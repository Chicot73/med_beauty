var alert=document.querySelector(".hero__alert"),body=document.body||document.getElementsByTagName("body")[0];function alertStart(){alert.setAttribute("id","alert_start"),body.style.overflow="hidden"}function animateHero(){var e=document.querySelector(".hero__module01"),t=document.querySelector(".hero__module02"),n=document.querySelector(".hero__module03"),o=document.querySelector(".hero__module04"),r=document.querySelector(".hero__bigobj"),l=document.querySelector(".hero__fog"),c=document.querySelector(".hero__blur");e.setAttribute("id","module01"),t.setAttribute("id","module02"),n.setAttribute("id","module03"),o.setAttribute("id","module04"),r.setAttribute("id","bigdevice"),l.setAttribute("id","fog"),c.setAttribute("id","blur")}function alertFinish(e){var t=e.target.closest("#sub"),e=e.target.closest("#unsub");(t||e)&&(alert.removeAttribute("id","alert_start"),animateHero(),document.removeEventListener("scroll",alertStart),body.style.overflow="scroll")}document.addEventListener("click",alertFinish),document.addEventListener("scroll",alertStart);var langwRandome=document.querySelector(".header__chose-lang"),randomePot=document.querySelector(".header__randome"),langwText=langwRandome.firstElementChild,counter=0;function inn(){randomePot.setAttribute("id","list-start")}function listener(e){var t,n,e=e.target;e&&(t=n=e.textContent,n=langwText.textContent,langwText.textContent=t,e.textContent=n,setTimeout(function(){randomePot.removeAttribute("id","list-start")},200))}langwRandome.addEventListener("mouseover",inn),langwRandome.addEventListener("click",inn),randomePot.addEventListener("mouseout",function(){randomePot.removeAttribute("id","list-start")});var count,accordeon=document.querySelector(".questions__part2"),tab=document.querySelectorAll(".questions__block"),button=document.querySelectorAll(".questions__toform"),arrows=document.querySelectorAll(".questions__toform");function click1(e){var n=e.target.closest(".questions__block");n&&tab.forEach(function(e){var t=e.firstElementChild.lastElementChild;e===n&&(e.classList.contains("mark")?1==count?(t.removeAttribute("id","block-act--in"),t.setAttribute("id","block-act--out"),e.lastElementChild.style.transform="rotate(0deg)translate(0, -50%)",e.lastElementChild.style.top="50%",count++):2==count&&(t.removeAttribute("id","block-act--out"),t.setAttribute("id","block-act--in"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px",count--):(t.setAttribute("id","block-act--in"),count=0,count++,e.classList.add("mark"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px"))})}accordeon.addEventListener("click",function(e){click1(e)}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.createElement("script"),n=(e.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]),e=(n.parentNode.insertBefore(e,n),document.getElementById("vcross1")),o=document.getElementById("vframe1"),r=document.querySelector(".cover"),l=document.querySelector(".video__link"),c=document.querySelector("body");l.addEventListener("click",function(e){o.classList.add("active"),r.classList.add("active"),c.style.overflow="hidden",t=new YT.Player("player",{height:"1080",width:"100%",videoId:l.dataset.video,playerVars:{autoplay:1,controls:1},events:{onReady:function(e){e.target.setVolume(30),e.target.playVideo(),e.target.setPlaybackQuality("highres")},onStateChange:function(e){e.data==YT.PlayerState.BUFFERING&&e.target.setPlaybackQuality("highres")}}})}),[r,e].forEach(function(e){e.addEventListener("click",function(e){o.classList.remove("active"),r.classList.remove("active"),c.style.overflow="scroll",t.destroy()})})});var swiper=new Swiper(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".slider__btn-next",prevEl:".slider__btn-prev"}});function TestDriveFn(){document.getElementById("testdrive").scrollIntoView({block:"start",behavior:"smooth"})}function decisionsFn(){document.getElementById("decisions").scrollIntoView({block:"start",behavior:"smooth"})}function learningFn(){document.getElementById("learning").scrollIntoView({block:"start",behavior:"smooth"})}function trustFn(){document.getElementById("trust").scrollIntoView({block:"start",behavior:"smooth"})}function questionsFn(){document.getElementById("questions").scrollIntoView({block:"start",behavior:"smooth"})}function moreFn(){document.getElementById("form-down").scrollIntoView({block:"start",behavior:"smooth"})}var burgerMenu=document.querySelector(".header__burger"),burgerBtn=document.querySelector(".header__burger-btn"),burgerCloseBtn=document.querySelector(".header__cross"),headerCover=document.querySelector(".header__cover"),burgerLinks=document.getElementById("header_links"),upForm=document.querySelector(".header__form"),burgerGetinfo=document.querySelector(".header__form-btn"),closeBurger=(burgerBtn.addEventListener("click",function(e){burgerMenu.classList.contains("header__burger--out")&&burgerMenu.classList.remove("header__burger--out"),burgerMenu.classList.add("header__burger--in"),headerCover.style.display="block",body.style.overflow="hidden",e.stopImmediatePropagation()}),function(){burgerMenu.classList.remove("header__burger--in"),headerCover.style.display="none",body.style.overflow="scroll"}),FormBtn=(document.addEventListener("click",function(e){var t=e.composedPath().includes(burgerMenu),n=e.composedPath().includes(burgerGetinfo),o=!1,r=e.composedPath().includes(upForm);n&&(burgerMenu.classList.remove("header__burger--in"),upForm.style.display="block"),t||(o=!0),[e.composedPath().includes(burgerCloseBtn),e.composedPath().includes(burgerLinks)].forEach(function(e){e&&closeBurger()}),!0!==o||r||(upForm.style.display="none",closeBurger())}),document.querySelectorAll(".form__btn")),f_formSucess=!1,telSelector=document.getElementById("phone"),nameSelector=document.getElementById("name"),questionSelector=document.getElementById("question"),telSelectorDown=document.getElementById("phone-f"),nameSelectorDown=document.getElementById("name-f"),questionSelectorDown=document.getElementById("question-f"),telValid=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm=(telValid.mask(telSelector),function(){var e=telSelector.value,t=nameSelector.value,n=questionSelector.value,e=(long4=telSelectorDown.value,long5=nameSelectorDown.value,long6=questionSelectorDown.value,e.replace(/[^0-9]/g,"")),o=long4.replace(/[^0-9]/g,"");document.getElementById("agree").checked||document.getElementById("agree-f").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501||2<o.length&&o.length<50&&1<long5.length&&long5.length<36&&2<long6.length&&long6.length<1501?(document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block",document.getElementById("warning").style.color="#49ff0c",document.getElementById("warning-f").style.color="#49ff0c",document.getElementById("warning").textContent="Спасибо, мы свяжемся с Вами!",document.getElementById("warning-f").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){document.getElementById("warning").style.display="none",document.getElementById("warning-f").style.display="none"},2e3),setTimeout(function(){document.querySelector(".header__form").style.display="none",headerCover.style.display="none",body.style.overflow="scroll"},2e3),console.log("валидация прошла успешно"),f_formSucess=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста введите правильные данные",document.getElementById("warning-f").textContent="Пожалуйста введите правильные данные",document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning-f").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block")}),form=(document.addEventListener("click",function(e){e.target.closest(".form__btn")&&(closeBurger(),validForm())}),document.getElementById("#form")),sendFormTo=function(e){return fetch("../finish.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()})},submitForm=function(e){var n;e.preventDefault(),console.log("submit"),!0===f_formSucess&&(e=new FormData(form),n={},e.forEach(function(e,t){n[t]=e}),sendFormTo(n).then(function(e){console.log("Письмо отправлено успешно"),form.reset(),f_formSucess=!1}))};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW5fb2xkLmpzIl0sIm5hbWVzIjpbImFsZXJ0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYm9keSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYWxlcnRTdGFydCIsInN0eWxlIiwib3ZlcmZsb3ciLCJiaWdPYmciLCJmb2ciLCJibHVyIiwibTQiLCJzZXRBdHRyaWJ1dGUiLCJhbmltYXRlSGVybyIsImV2IiwiYXJlYSIsImNsb3Nlc3QiLCJhcmVhMiIsInRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJsYW5nd1JhbmRvbWUiLCJyYW5kb21lUG90IiwiYWxlcnRGaW5pc2giLCJsYW5nd1RleHQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNvdW50ZXIiLCJsaXN0ZW5lciIsImV2ZW50IiwiYSIsImVsIiwidGV4dENvbnRlbnQiLCJjaGlsZCIsImZvckVhY2giLCJzZXRUaW1lb3V0IiwiaW5uIiwiY291bnQiLCJhY2NvcmRlb24iLCJ0YWIiLCJjbGFzc0xpc3QiLCJidXR0b24iLCJpdGVtIiwibGFzdEVsZW1lbnRDaGlsZCIsImFycm93cyIsImNsaWNrMSIsImUiLCJjb250YWlucyIsImZpcnN0U2NyaXB0VGFnIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInl0Q3Jvc3MiLCJnZXRFbGVtZW50QnlJZCIsInRyYW5zZm9ybSIsInRvcCIsIllUIiwiZXZlbnRzIiwiYWRkIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsInNldFBsYXliYWNrUXVhbGl0eSIsInl0QmFjayIsInJlbW92ZSIsInBsYXllciIsImNyZWF0ZUVsZW1lbnQiLCJ0YWciLCJzcmMiLCJzd2lwZXIiLCJiYWNrZ3JvIiwibG9vcCIsIm1hcmsiLCJwYWdpbmF0aW9uIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIlBsYXllciIsImhlaWdodCIsIndpZHRoIiwidmlkZW9JZCIsImRhdGFzZXQiLCJ2aWRlbyIsInBsYXllclZhcnMiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwib25SZWFkeSIsInNldFZvbHVtZSIsImRlY2lzaW9uc0ZuIiwib25TdGF0ZUNoYW5nZSIsImJlaGF2aW9yIiwiZGF0YSIsIlBsYXllclN0YXRlIiwiQlVGRkVSSU5HIiwiYmxvY2siLCJ0cnVzdEZuIiwiZGVzdHJveSIsIlN3aXBlciIsIm1vcmVGbiIsIlRlc3REcml2ZUZuIiwiYnVyZ2VyQnRuIiwic2Nyb2xsSW50b1ZpZXciLCJidXJnZXJNZW51IiwiaGVhZGVyQ292ZXIiLCJsZWFybmluZ0ZuIiwiY2xvc2VCdXJnZXIiLCJmb3JtQnRuQ2xpY2tlZCIsImNvbXBvc2VkUGF0aCIsImJ1cmdlckdldGluZm8iLCJub0ZpZWxkIiwiRmllbGRGb3JtIiwicXVlc3Rpb25zRm4iLCJ1cEZvcm0iLCJwdUFyciIsImJ1cmdlckNsb3NlQnRuIiwiYnVyZ2VyTGlua3MiLCJGb3JtQnRuIiwiZGlzcGxheSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm5hbWVTZWxlY3RvckRvd24iLCJtQnVyZ2VyIiwiaW5jbHVkZXMiLCJ2YWxpZEZvcm0iLCJ0ZWxTZWxlY3RvciIsInRlbFNlbGVjdG9yRG93biIsImxvbmc2IiwicXVlc3Rpb25TZWxlY3RvckRvd24iLCJsb25nTnVtIiwibG9uZyIsImRlbFRleHQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZl9mb3JtU3VjZXNzIiwiRm9ybURhdGEiLCJuYW1lU2VsZWN0b3IiLCJxdWVzdGlvblNlbGVjdG9yIiwidmFsIiwidGVsVmFsaWQiLCJJbnB1dG1hc2siLCJtYXNrIiwiZ3JlZWR5IiwiZGVmaW5pdGlvbnMiLCIqIiwidmFsaWRhdG9yIiwidmFsdWUiLCJsb25nMiIsImxvbmczIiwibG9uZzQiLCJsb25nNSIsInJlcGxhY2UiLCJsb25nTnVtMiIsImNoZWNrZWQiLCJsZW5ndGgiLCJjb2xvciIsImNvbnNvbGUiLCJsb2ciLCJmb3JtIiwic2VuZEZvcm1UbyIsImZldGNoIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJDb250ZW50LXR5cGUiLCJ0aGVuIiwicmVzIiwianNvbiIsInN1Ym1pdEZvcm0iLCJ1c2VyIiwicHJldmVudERlZmF1bHQiLCJkYXRhRm9ybSIsImtleSIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFBQSxNQUFBQyxTQUFBQyxjQUFBLGNBQUEsRUFHRUMsS0FBT0YsU0FBU0UsTUFBUUYsU0FBU0cscUJBQXFCLE1BQU0sRUFBRSxHQUdoRSxTQUFTQyxhQUdQRixNQUFLRyxhQUFjLEtBQUcsYUFBUSxFQUVoQ0gsS0FBQUcsTUFBQUMsU0FBQSxRQUFBLENBRUEsU0FJU04sY0FGUCxJQUlFTyxFQUFNUCxTQUFHQSxjQUFTQyxpQkFBNkIsRUFDL0NPLEVBQUdSLFNBQVdDLGNBQWMsaUJBQWMsRUFDMUNRLEVBQUlULFNBQUdBLGNBQVNDLGlCQUE0QixFQUM1Q1MsRUFBQ0MsU0FBYVYsY0FBTSxpQkFBVyxFQUMvQk0sRUFBQ0ksU0FBaUJWLGNBQWEsZUFBQSxFQUMvQk8sRUFBQ0csU0FBYVYsY0FBTSxZQUFXLEVBQy9CUSxFQUFDRSxTQUFhVixjQUFnQixhQUFDLEVBQ2pDTSxFQUFBQSxhQUFPSSxLQUFhLFVBQU0sRUFDMUJILEVBQUdHLGFBQWEsS0FBSyxVQUFRLEVBQzdCRixFQUFBQSxhQUFLRSxLQUFpQixVQUFTLEVBQy9CRCxFQUFBQyxhQUFBLEtBQUEsVUFBQSxFQUNGSixFQUFBSSxhQUFBLEtBQUEsV0FBQSxFQUhFSCxFQUFJRyxhQUFhLEtBQU0sS0FBSyxFQUs5QkYsRUFBQUUsYUFBQSxLQUFBLE1BQUEsQ0FFQVgsQ0FFQSxTQVFJWSxZQUFhQyxHQU5mLElBUU1DLEVBQU9SLEVBQUFBLE9BQVFTLFFBQUcsTUFBUSxFQUNoQ0MsRUFBQUgsRUFBQUksT0FBQUYsUUFBQSxRQUFBLEdBR0ZmLEdBQVNrQixLQUdUbkIsTUFBQW9CLGdCQUFBLEtBQUEsYUFBQSxFQVRJUCxZQUFZLEVBV1pRLFNBQUFBLG9CQUF3Qm5CLFNBQWNHLFVBQUEsRUFDeENpQixLQUFBQSxNQUFh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QUlDLEtBQUssQ0FBQyxDQUFBLENBQzNCLEVBRUlDLFdBQWEsU0FBVXZJLEdBT3pCLElBR1F3SSxFQVJSeEksRUFBTXlJLGVBQWUsRUFFckJmLFFBQVFDLElBQUksUUFBUSxFQUdDLENBQUEsSUFBakJ2QixlQUVJc0MsRUFBVyxJQUFJckMsU0FBU3VCLElBQUksRUFDNUJZLEVBQU8sR0FFYkUsRUFBU3JJLFFBQVEsU0FBQ21HLEVBQUttQyxHQUNyQkgsRUFBS0csR0FBT25DLENBQ2QsQ0FBQyxFQUVEcUIsV0FBV1csQ0FBSSxFQUFFSixLQUFLLFNBQUF4RSxHQUNwQjhELFFBQVFDLElBQUksMkJBQTJCLEVBRXZDQyxLQUFLZ0IsTUFBTSxFQUVYeEMsYUFBZSxDQUFBLENBQ2pCLENBQUMsRUFFTCIsImZpbGUiOiJtYWluX29sZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEhlcm8tc2VjdGlvbiDQkNC90LjQvNCw0YbQuNGPINC/0L7Rj9Cy0LvQtdC90LjRj1xuXG5jb25zdCBhbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19hbGVydCcpLFxuICBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuXG5cbmZ1bmN0aW9uIGFsZXJ0U3RhcnQoKSB7XG5cbiAgYWxlcnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhbGVydF9zdGFydFwiKTtcbiAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG59XG5cbmZ1bmN0aW9uIGFuaW1hdGVIZXJvKCkge1xuXG4gIGxldCBtMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwMScpLFxuICAgIG0yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX21vZHVsZTAyJyksXG4gICAgbTMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDMnKSxcbiAgICBtNCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwNCcpLFxuICAgIGJpZ09iZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19iaWdvYmonKSxcbiAgICBmb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fZm9nJyksXG4gICAgYmx1ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19ibHVyJyk7XG4gIG0xLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDFcIik7XG4gIG0yLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDJcIik7XG4gIG0zLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDNcIik7XG4gIG00LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDRcIik7XG4gIGJpZ09iZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImJpZ2RldmljZVwiKTtcbiAgZm9nLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZm9nXCIpO1xuICBibHVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmx1clwiKTtcbiAgLy9zZXRUaW1lb3V0KGFsZXJ0U3RhcnQsIDIwMDApO1xufVxuXG4vLyDQt9Cw0LrRgNGL0YLQuNC1INC+0LrQvdCwINC/0YDQviDQutGD0LrQuFxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFsZXJ0RmluaXNoKTtcblxuZnVuY3Rpb24gYWxlcnRGaW5pc2goZXYpIHtcblxuICBjb25zdCBhcmVhID0gZXYudGFyZ2V0LmNsb3Nlc3QoXCIjc3ViXCIpO1xuICBjb25zdCBhcmVhMiA9IGV2LnRhcmdldC5jbG9zZXN0KFwiI3Vuc3ViXCIpO1xuXG4gIGlmICgoYXJlYSkgfHwgKGFyZWEyKSkge1xuXG4gICAgYWxlcnQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJhbGVydF9zdGFydFwiKTtcbiAgICBhbmltYXRlSGVybygpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFsZXJ0U3RhcnQpO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgfVxufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhbGVydFN0YXJ0KTtcblxuXG4vL9Cy0YvQsdC+0YAg0Y/Qt9GL0LrQsFxuXG5sZXQgbGFuZ3dSYW5kb21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY2hvc2UtbGFuZycpLFxuICByYW5kb21lUG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fcmFuZG9tZScpLFxuICBsYW5nd1RleHQgPSBsYW5nd1JhbmRvbWUuZmlyc3RFbGVtZW50Q2hpbGQsXG4gIGNvdW50ZXIgPSAwO1xuXG5sYW5nd1JhbmRvbWUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaW5uKTtcbmxhbmd3UmFuZG9tZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGlubik7XG5cbmZ1bmN0aW9uIGlubigpIHtcbiAgcmFuZG9tZVBvdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImxpc3Qtc3RhcnRcIik7XG59XG5cbnJhbmRvbWVQb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gIHJhbmRvbWVQb3QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJsaXN0LXN0YXJ0XCIpO1xufSlcblxuXG5cblxuXG4vL9GE0YPQvdC60YbQuNGPINC90LUg0YDQsNCx0L7RgtCw0LXRgiwg0LXRgdC70Lgg0L3QtSDQv9C+0LLQtdGB0LjRgtGMIG9uY2xpY2sg0L3QsCDQutCw0LbQtNGD0Y4g0LrQvdC+0L/QutGDINCyINGB0L/QuNGB0LrQtSAo0L3QtSDRh9C10YDQtdC3IGFkZGV2bGlzLCDQsCDRh9C10YDQtdC3INGC0LXQsyBvbmNsaWNrKVxuZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgbGV0IGVsID0gZXZlbnQudGFyZ2V0O1xuXG4gIGlmIChlbCkge1xuXG4gICAgbGV0IGEgPSBlbC50ZXh0Q29udGVudCxcbiAgICAgIGIgPSBsYW5nd1RleHQudGV4dENvbnRlbnQ7XG5cbiAgICBsZXQgdG1wID0gYTtcbiAgICBhID0gYjtcbiAgICBiID0gdG1wO1xuICAgIGxhbmd3VGV4dC50ZXh0Q29udGVudCA9IGI7XG4gICAgZWwudGV4dENvbnRlbnQgPSBhO1xuXG4gICAgZnVuY3Rpb24gZ29vZGJ5KCkge1xuXG4gICAgICByYW5kb21lUG90LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwibGlzdC1zdGFydFwiKTtcblxuICAgIH1cbiAgICBzZXRUaW1lb3V0KGdvb2RieSwgMjAwKTtcbiAgfVxufVxuXG5cblxuXG5cblxuLy9hY2NvcmRlb25cblxubGV0IGFjY29yZGVvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbnNfX3BhcnQyJyksXG4gIHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX2Jsb2NrJyksXG4gIGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX3RvZm9ybScpLFxuICBhcnJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX190b2Zvcm0nKSxcbiAgY291bnQ7XG5cbmZ1bmN0aW9uIGNsaWNrMShlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5xdWVzdGlvbnNfX2Jsb2NrJyk7XG4gIGlmICh0YXJnZXQpIHtcblxuICAgIHRhYi5mb3JFYWNoKChpdGVtKSA9PiB7XG5cbiAgICAgIGxldCBjaGlsZCA9IGl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQubGFzdEVsZW1lbnRDaGlsZDtcblxuICAgICAgaWYgKGl0ZW0gPT09IHRhcmdldCkge1xuXG5cbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXJrJykpIHtcblxuICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XG5cbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1pblwiKTtcbiAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1vdXRcIik7XG4gICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwZGVnKScgKyAndHJhbnNsYXRlKDAsIC01MCUpJztcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPSAnNTAlJztcbiAgICAgICAgICAgIGNvdW50KytcblxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT0gMikge1xuXG4gICAgICAgICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0tb3V0XCIpO1xuICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLWluXCIpO1xuICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKScgKyAndHJhbnNsYXRlKDAsIDApJztcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPSAnMzBweCc7XG4gICAgICAgICAgICBjb3VudC0tXG5cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0taW5cIik7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdtYXJrJyk7XG4gICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKScgKyAndHJhbnNsYXRlKDAsIDApJztcbiAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudG9wID0gJzMwcHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn07XG5hY2NvcmRlb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjbGljazEoZSk7XG59KTtcblxuXG5cblxuXG4vL9Cf0YDQvtC40LPRgNGL0LLQsNGC0LXQu9GMXG5cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXG4gIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xuXG4gIHZhciBwbGF5ZXI7XG5cbiAgbGV0IHl0Q3Jvc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmNyb3NzMScpLFxuICAgIGJhY2tncm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmZyYW1lMScpLFxuICAgIHl0QmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3ZlcicpLFxuICAgIG1hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX2xpbmsnKSxcbiAgICBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIG1hcmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGJhY2tncm8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgeXRCYWNrLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCdwbGF5ZXInLCB7XG4gICAgICBoZWlnaHQ6ICcxMDgwJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB2aWRlb0lkOiBtYXJrLmRhdGFzZXQudmlkZW8sLy/QuNC3INCw0YLRgNC40LHRg9GC0LAgZGF0YS12aWRlbyDQutC90L7Qv9C60LhcbiAgICAgIHBsYXllclZhcnM6IHsgJ2F1dG9wbGF5JzogMSwgJ2NvbnRyb2xzJzogMSB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvblBsYXllclJlYWR5KGV2ZW50KSB7XG4gICAgICBldmVudC50YXJnZXQuc2V0Vm9sdW1lKDMwKTtcbiAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbiAgICAgIGV2ZW50LnRhcmdldC5zZXRQbGF5YmFja1F1YWxpdHkoJ2hpZ2hyZXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblBsYXllclN0YXRlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuZGF0YSA9PSBZVC5QbGF5ZXJTdGF0ZS5CVUZGRVJJTkcpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnNldFBsYXliYWNrUXVhbGl0eSgnaGlnaHJlcycpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBsZXQgeXRiZ0FyciA9IFt5dEJhY2ssIHl0Q3Jvc3NdO1xuICB5dGJnQXJyLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBiYWNrZ3JvLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgeXRCYWNrLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgICAgcGxheWVyLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgfSk7XG59KVxuXG5cbi8vLSBzd2lwZXJcblxuY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlcicsIHtcbiAgLy8g0J3QsNGB0YLRgNC+0LnQutC4IFN3aXBlclxuICBsb29wOiB0cnVlLCAvLyDQkdC10YHQutC+0L3QtdGH0L3QsNGPINC/0YDQvtC60YDRg9GC0LrQsFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIGNsaWNrYWJsZTogdHJ1ZSwgLy8g0JTQtdC70LDQtdGCINC/0LDQs9C40L3QsNGG0LjRjiDQutC70LjQutCw0LHQtdC70YzQvdC+0LlcbiAgfSxcbiAgbmF2aWdhdGlvbjoge1xuICAgIG5leHRFbDogJy5zbGlkZXJfX2J0bi1uZXh0JyxcbiAgICBwcmV2RWw6ICcuc2xpZGVyX19idG4tcHJldicsXG4gIH0sXG59KTtcblxuXG5cbi8v0J/Qu9Cw0LLQvdCw0Y8g0L/RgNC+0LrRgNGD0YLQutCwINC00L4g0YHRgdGL0LvQvtC6XG5cblxuXG5mdW5jdGlvbiBUZXN0RHJpdmVGbigpIHtcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0ZHJpdmUnKS5zY3JvbGxJbnRvVmlldyh7XG4gICAgYmxvY2s6IFwic3RhcnRcIixcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSlcbn1cblxuZnVuY3Rpb24gZGVjaXNpb25zRm4oKSB7XG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVjaXNpb25zJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgIGJsb2NrOiBcInN0YXJ0XCIsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGxlYXJuaW5nRm4oKSB7XG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhcm5pbmcnKS5zY3JvbGxJbnRvVmlldyh7XG4gICAgYmxvY2s6IFwic3RhcnRcIixcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSlcbn1cblxuZnVuY3Rpb24gdHJ1c3RGbigpIHtcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnVzdCcpLnNjcm9sbEludG9WaWV3KHtcbiAgICBibG9jazogXCJzdGFydFwiLFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICB9KVxufVxuXG5mdW5jdGlvbiBxdWVzdGlvbnNGbigpIHtcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbnMnKS5zY3JvbGxJbnRvVmlldyh7XG4gICAgYmxvY2s6IFwic3RhcnRcIixcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgfSlcbn1cblxuZnVuY3Rpb24gbW9yZUZuKCkge1xuICAvL2UucHJldmVudERlZmF1bHQoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZG93bicpLnNjcm9sbEludG9WaWV3KHtcbiAgICBibG9jazogXCJzdGFydFwiLFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICB9KVxufVxuXG5cblxuXG4vLyDQsdGD0YDQs9C10YAt0LzQtdC90Y5cblxubGV0IGJ1cmdlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKSxcbiAgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyLWJ0bicpLFxuICBidXJnZXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Nyb3NzJyksXG4gIGhlYWRlckNvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY292ZXInKSwgLy/Qt9Cw0YLQtdC80L3QtdC90LjQtSDQvdCwINGE0L7QvdC1XG4gIGJ1cmdlckxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcl9saW5rcycpLFxuICB1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fZm9ybVwiKSxcbiAgYnVyZ2VyR2V0aW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Zvcm0tYnRuJyk7XG5cbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cbiAgaWYgKGJ1cmdlck1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXJfX2J1cmdlci0tb3V0JykpIHtcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1vdXQnKTtcbiAgfTtcbiAgYnVyZ2VyTWVudS5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX2J1cmdlci0taW4nKTtcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5vbkZvcm1DbGljayk7XG5cbiAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxufSk7XG5cblxuXG4vLyDQm9C+0LPQuNC60LAg0L/QvtGB0LvQtSDQvtGC0LrRgNGL0YLQuNGPINCx0YPRgNCz0LXRgCAtINC80LXQvdGOLCDQtdGB0LvQuCDRhdC+0YLRj9GCINC30LDQutGA0YvRgtGMINC10LPQvlxuXG5sZXQgY2xvc2VCdXJnZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgYnVyZ2VyTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXJfX2J1cmdlci0taW4nKTtcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAvLyBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblxuICBsZXQgbUJ1cmdlciA9IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyTWVudSk7XG4gIGxldCBmb3JtQnRuQ2xpY2tlZCA9IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyR2V0aW5mbyk7XG4gIGxldCBub0ZpZWxkID0gZmFsc2U7XG4gIGxldCBGaWVsZEZvcm0gPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHVwRm9ybSk7XG4gIGxldCBub0ZpZWxkRm9ybSA9IGZhbHNlO1xuXG4gIC8vIGNvbnN0IHdpdGhpbkJvdW5kYXJpZXMgPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGRpdik7XG5cbiAgaWYgKGZvcm1CdG5DbGlja2VkKSB7XG5cbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1pbicpO1xuICAgIHVwRm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICB9XG5cbiAgaWYgKCFtQnVyZ2VyKSB7XG4gICAgbm9GaWVsZCA9IHRydWU7XG4gIH1cblxuICBsZXQgcHVBcnIgPSBbXG5cbiAgICBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlckNsb3NlQnRuKSxcbiAgICBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlckxpbmtzKVxuXG4gIF07XG5cbiAgcHVBcnIuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoaXRlbSkgeyBjbG9zZUJ1cmdlcigpOyB9XG4gIH0pXG5cblxuICBpZiAobm9GaWVsZCA9PT0gdHJ1ZSkge1xuXG4gICAgaWYgKCFGaWVsZEZvcm0pIHtcbiAgICAgIG5vRmllbGRGb3JtID0gdHJ1ZTtcbiAgICAgIHVwRm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgY2xvc2VCdXJnZXIoKTtcbiAgICB9XG5cbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cblxuICAgIC8vIH0pXG5cbiAgICAvLyBpZiAobm9GaWVsZEZvcm0pIHtcblxuICAgIC8vICAgLy8g0JvQvtCz0LjQutCwINC/0L7RgdC70LUg0L7RgtC60YDRi9GC0LjRjyDRhNC+0YDQvNGLLCDQtdGB0LvQuCDRhdC+0YLRj9GCINC30LDQutGA0YvRgtGMINC10LPQviwg0L3QsNC20LDQsiDQvdCwINC/0YPRgdGC0L7QtSDQv9GA0L7RgdGC0YDQsNC90YHRgtCy0L4g0LLQvdC1INGE0L7RgNC80YtcblxuICAgIC8vICAgY2xvc2VCdXJnZXIoKTtcbiAgICAvLyB9XG4gIH1cbn0pXG5cblxuXG5cblxuXG5cbi8vIGxldCBwdUFyciA9IFtidXJnZXJDbG9zZUJ0biwgYnVyZ2VyTGlua3NdLmZvckVhY2goaXRlbSA9PiB7XG4vLyAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuLy8gICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLWluJyk7XG4vLyAgICAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbi8vICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG4vLyAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbi8vICAgfSk7XG4vLyB9KTtcblxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vINCy0LXRgNGF0L3Rj9GPINGE0L7RgNC80LBcblxubGV0IEZvcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9fYnRuJyk7XG5cbmxldCBmX2Zvcm1TdWNlc3MgPSBmYWxzZTtcblxuXG4vL9Cc0LDRgdC60LAg0YTQvtGA0LzRi1xuXG5sZXQgdGVsU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUnKSxcbiAgbmFtZVNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKSxcbiAgcXVlc3Rpb25TZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbicpLFxuICB0ZWxTZWxlY3RvckRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUtZicpLFxuICBuYW1lU2VsZWN0b3JEb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUtZicpLFxuICBxdWVzdGlvblNlbGVjdG9yRG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbi1mJyk7XG5cbi8vIElucHV0bWFzayh7IFwibWFza1wiOiBcIis5Wzk5XSg5Wzk5OTldKVs5Wzk5OTldXS1bOVs5OTk5XV1cIiwgXCJncmVlZHlcIjogXCJmYWxzZVwiIH0pLm1hc2sodGVsU2VsZWN0b3IpO1xuLy8gSW5wdXRtYXNrKHsgXCJtYXNrXCI6IFwiKzl7MSwyMH0vKC8pLy4tXCIsIFwiZ3JlZWR5XCI6IFwiZmFsc2VcIiB9KS5tYXNrKHRlbFNlbGVjdG9yRG93bik7XG5cbmNvbnN0IHRlbFZhbGlkID0gbmV3IElucHV0bWFzayh7XG4gIG1hc2s6IFwiKyp7MSwyMH1cIixcbiAgZ3JlZWR5OiBmYWxzZSxcbiAgZGVmaW5pdGlvbnM6IHtcbiAgICAnKic6IHtcbiAgICAgIHZhbGlkYXRvcjogXCJbMC05XFx1MDAyOFxcdTAwMjlcXHUwMDJkXVwiLC8v0LLQsNC70LjQtNCw0YbQuNGPINC/0YDQvtC/0YPRgdC60LDQtdGCINGC0L7Qu9GM0LrQviDRh9C40YHQu9CwINC+0YIgMCDQtNC+IDksINC00LXRhNC40YEg0Lgg0YHQutC+0LHQutC4XG4gICAgfVxuICB9XG59KTtcblxudGVsVmFsaWQubWFzayh0ZWxTZWxlY3Rvcik7IC8v0L/RgNC40LzQtdC90Y/QtdC8INGB0YTQvtGA0LzQuNGA0L7QstCw0L3QvdGD0Y4g0LzQsNGB0LrRgyDQtNC70Y8g0YPQutCw0LfQsNC90L3QvtCz0L4g0LjQvdC/0YPRgtCwIGVtYWlsU2VsZWN0b3JcblxuXG5cbmxldCB2YWxpZEZvcm0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgbGV0IGxvbmcgPSB0ZWxTZWxlY3Rvci52YWx1ZSxcbiAgICBsb25nMiA9IG5hbWVTZWxlY3Rvci52YWx1ZSxcbiAgICBsb25nMyA9IHF1ZXN0aW9uU2VsZWN0b3IudmFsdWU7XG4gIGxvbmc0ID0gdGVsU2VsZWN0b3JEb3duLnZhbHVlO1xuICBsb25nNSA9IG5hbWVTZWxlY3RvckRvd24udmFsdWU7XG4gIGxvbmc2ID0gcXVlc3Rpb25TZWxlY3RvckRvd24udmFsdWU7XG4gIGxldCBsb25nTnVtID0gbG9uZy5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7IC8v0YPQtNCw0LvRj9C10Lwg0LjQtyDRgdGC0YDQvtC60Lgg0LLRgdGRLCDQutGA0L7QvNC1INGG0LjRhNGAICAvLyDQvtGI0LjQsdC60LAg0LjQty3Qt9CwINGN0YLQvtCz0L5cbiAgbGV0IGxvbmdOdW0yID0gbG9uZzQucmVwbGFjZSgvW14wLTldL2csIFwiXCIpO1xuXG4gIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FncmVlJykuY2hlY2tlZCkgfHwgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ3JlZS1mJykuY2hlY2tlZCkpIHtcblxuICAgIGlmICgoKChsb25nTnVtLmxlbmd0aCA+IDIpICYmIChsb25nTnVtLmxlbmd0aCA8IDUwKSkgJiYgKChsb25nMi5sZW5ndGggPiAxKSAmJiAobG9uZzIubGVuZ3RoIDwgMzYpKSAmJiAoKGxvbmczLmxlbmd0aCA+IDIpICYmIChsb25nMy5sZW5ndGggPCAxNTAxKSkpIHx8ICgoKGxvbmdOdW0yLmxlbmd0aCA+IDIpICYmIChsb25nTnVtMi5sZW5ndGggPCA1MCkpICYmICgobG9uZzUubGVuZ3RoID4gMSkgJiYgKGxvbmc1Lmxlbmd0aCA8IDM2KSkgJiYgKChsb25nNi5sZW5ndGggPiAyKSAmJiAobG9uZzYubGVuZ3RoIDwgMTUwMSkpKSkge1xuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuY29sb3IgPSBcIiM0OWZmMGNcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5jb2xvciA9IFwiIzQ5ZmYwY1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS50ZXh0Q29udGVudCA9IFwi0KHQv9Cw0YHQuNCx0L4sINC80Ysg0YHQstGP0LbQtdC80YHRjyDRgSDQktCw0LzQuCFcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS50ZXh0Q29udGVudCA9IFwi0KHQv9Cw0YHQuNCx0L4sINC80Ysg0YHQstGP0LbQtdC80YHRjyDRgSDQktCw0LzQuCFcIjtcblxuICAgICAgZnVuY3Rpb24gZGVsVGV4dCgpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KGRlbFRleHQsIDIwMDApO1xuXG4gICAgICBmdW5jdGlvbiBnb29kYnkoKSB7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZm9ybScpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuXG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KGdvb2RieSwgMjAwMCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfQstCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0YjQu9CwINGD0YHQv9C10YjQvdC+Jyk7XG5cbiAgICAgIGZfZm9ybVN1Y2VzcyA9IHRydWU7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygn0YTQvtGA0LzQsCDQvdC1INC/0YDQvtGI0LvQsCDQv9C+INCy0LDQu9C40LTQsNGG0LjQuCcpO1xuXG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C1INC00LDQvdC90YvQtVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YvQtSDQtNCw0L3QvdGL0LVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgfVxuICB9IGVsc2Uge1xuXG4gICAgY29uc29sZS5sb2coJ9GE0L7RgNC80LAg0L3QtSDQv9GA0L7RiNC70LAg0L/QviDQstCw0LvQuNC00LDRhtC40LgnKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINC00LDQudGC0LUg0YHQstC+0LUg0YHQvtCz0LvQsNGB0LjQtSDQvdCwINC+0LHRgNCw0LHQvtGC0LrRgyDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQtNCw0LnRgtC1INGB0LLQvtC1INGB0L7Qs9C70LDRgdC40LUg0L3QsCDQvtCx0YDQsNCx0L7RgtC60YMg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCgnLmZvcm1fX2J0bicpO1xuXG4gIGlmICh0YXJnZXQpIHtcblxuICAgIGNsb3NlQnVyZ2VyKCk7XG5cbiAgICB2YWxpZEZvcm0oKTtcbiAgfVxufSlcblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCcjZm9ybScpO1xuXG5jb25zdCBzZW5kRm9ybVRvID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIGZldGNoKCcuLi9maW5pc2gucGhwJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICB9XG4gIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xufVxuXG5sZXQgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc29sZS5sb2coJ3N1Ym1pdCcpO1xuXG5cbiAgaWYgKGZfZm9ybVN1Y2VzcyA9PT0gdHJ1ZSkge1xuXG4gICAgY29uc3QgZGF0YUZvcm0gPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgY29uc3QgdXNlciA9IHt9O1xuXG4gICAgZGF0YUZvcm0uZm9yRWFjaCgodmFsLCBrZXkpID0+IHtcbiAgICAgIHVzZXJba2V5XSA9IHZhbDtcbiAgICB9KTtcblxuICAgIHNlbmRGb3JtVG8odXNlcikudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfQn9C40YHRjNC80L4g0L7RgtC/0YDQsNCy0LvQtdC90L4g0YPRgdC/0LXRiNC90L4nKTtcblxuICAgICAgZm9ybS5yZXNldCgpO1xuXG4gICAgICBmX2Zvcm1TdWNlc3MgPSBmYWxzZTtcbiAgICB9KVxuICB9XG59Il19