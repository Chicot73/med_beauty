var alert=document.querySelector(".hero__alert"),body=document.body||document.getElementsByTagName("body")[0];function alertStart(){alert.setAttribute("id","alert_start"),body.style.overflow="hidden"}var header=document.querySelector(".header");function headerSticky(){setTimeout(function(){header.setAttribute("id","acthead")},1e3)}function animateHero(){var e=document.querySelector(".hero__module01"),t=document.querySelector(".hero__module02"),n=document.querySelector(".hero__module03"),o=document.querySelector(".hero__module04"),r=document.querySelector(".hero__bigobj"),l=document.querySelector(".hero__fog"),c=document.querySelector(".hero__blur");e.setAttribute("id","module01"),t.setAttribute("id","module02"),n.setAttribute("id","module03"),o.setAttribute("id","module04"),r.setAttribute("id","bigdevice"),l.setAttribute("id","fog"),c.setAttribute("id","blur")}function alertFinish(e){var t=e.target.closest("#sub"),e=e.target.closest("#unsub");(t||e)&&(alert.removeAttribute("id","alert_start"),animateHero(),document.removeEventListener("scroll",alertStart),body.style.overflow="scroll",headerSticky())}document.addEventListener("click",alertFinish),document.addEventListener("scroll",alertStart);var langwRandome=document.querySelector(".header__chose-lang"),randomePot=document.querySelector(".header__randome"),langwText=langwRandome.firstElementChild,counter=0;function inn(){randomePot.setAttribute("id","list-start")}function listener(e){var t,n,e=e.target;e&&(t=n=e.textContent,n=langwText.textContent,langwText.textContent=t,e.textContent=n,setTimeout(function(){randomePot.removeAttribute("id","list-start")},200))}langwRandome.addEventListener("mouseover",inn),langwRandome.addEventListener("click",inn),randomePot.addEventListener("mouseout",function(){randomePot.removeAttribute("id","list-start")});var count,accordeon=document.querySelector(".questions__part2"),tab=document.querySelectorAll(".questions__block"),button=document.querySelectorAll(".questions__toform"),arrows=document.querySelectorAll(".questions__toform");function click1(e){var n=e.target.closest(".questions__block");n&&tab.forEach(function(e){var t=e.firstElementChild.lastElementChild;e===n&&(e.classList.contains("mark")?1==count?(t.removeAttribute("id","block-act--in"),t.setAttribute("id","block-act--out"),e.lastElementChild.style.transform="rotate(0deg)translate(0, -50%)",e.lastElementChild.style.top="50%",count++):2==count&&(t.removeAttribute("id","block-act--out"),t.setAttribute("id","block-act--in"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px",count--):(t.setAttribute("id","block-act--in"),count=0,count++,e.classList.add("mark"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px"))})}accordeon.addEventListener("click",function(e){click1(e)}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.createElement("script"),n=(e.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]),e=(n.parentNode.insertBefore(e,n),document.getElementById("vcross1")),o=document.getElementById("vframe1"),r=document.querySelector(".cover"),l=document.querySelector(".video__link"),c=document.querySelector("body");l.addEventListener("click",function(e){o.classList.add("active"),r.classList.add("active"),c.style.overflow="hidden",t=new YT.Player("player",{height:"1080",width:"100%",videoId:l.dataset.video,playerVars:{autoplay:1,controls:1},events:{onReady:function(e){e.target.setVolume(30),e.target.playVideo(),e.target.setPlaybackQuality("highres")},onStateChange:function(e){e.data==YT.PlayerState.BUFFERING&&e.target.setPlaybackQuality("highres")}}})}),[r,e].forEach(function(e){e.addEventListener("click",function(e){o.classList.remove("active"),r.classList.remove("active"),c.style.overflow="scroll",t.destroy()})})});var swiper=new Swiper(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".slider__btn-next",prevEl:".slider__btn-prev"}});function TestDriveFn(){document.getElementById("testdrive").scrollIntoView({block:"start",behavior:"smooth"})}function decisionsFn(){document.getElementById("decisions").scrollIntoView({block:"start",behavior:"smooth"})}function learningFn(){document.getElementById("learning").scrollIntoView({block:"start",behavior:"smooth"})}function trustFn(){document.getElementById("trust").scrollIntoView({block:"start",behavior:"smooth"})}function questionsFn(){document.getElementById("questions").scrollIntoView({block:"start",behavior:"smooth"})}function moreFn(){document.getElementById("form-down-2").scrollIntoView({block:"start",behavior:"smooth"})}var burgerMenu=document.querySelector(".header__burger"),burgerBtn=document.querySelector(".header__burger-btn"),burgerCloseBtn=document.querySelector(".header__cross"),headerCover=document.querySelector(".header__cover"),burgerLinks=document.getElementById("header_links"),upForm=document.querySelector(".header__form"),burgerGetinfo=document.querySelector(".header__form-btn"),closeBurger=(burgerBtn.addEventListener("click",function(e){burgerMenu.classList.contains("header__burger--out")&&burgerMenu.classList.remove("header__burger--out"),burgerMenu.classList.add("header__burger--in"),headerCover.style.display="block",body.style.overflow="hidden",e.stopImmediatePropagation()}),function(){burgerMenu.classList.remove("header__burger--in"),headerCover.style.display="none",body.style.overflow="scroll"}),f_formSucess=(document.addEventListener("click",function(e){var t=e.composedPath().includes(burgerMenu),n=e.composedPath().includes(burgerGetinfo),o=!1,r=e.composedPath().includes(upForm);n&&(burgerMenu.classList.remove("header__burger--in"),upForm.style.display="block"),t||(o=!0),[e.composedPath().includes(burgerCloseBtn),e.composedPath().includes(burgerLinks)].forEach(function(e){e&&closeBurger()}),!0!==o||r||(upForm.style.display="none",closeBurger())}),!1),telSelector=(document.addEventListener("DOMContentLoaded",function(){document.getElementById("form").addEventListener("submit",function(e){var t,n;e.preventDefault(),console.log("submit"),validForm(),console.log(f_formSucess),!0===f_formSucess&&(t=new FormData(e.target),n={},t.forEach(function(e,t){n[t]=e}),fetch("finish.php",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log("Письмо ушло")}),e.target.reset(),f_formSucess=!1)})}),document.getElementById("phone")),nameSelector=document.getElementById("name"),questionSelector=document.getElementById("question"),telValid=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm=(telValid.mask(telSelector),function(){var e=telSelector.value,t=nameSelector.value,n=questionSelector.value,e=e.replace(/[^0-9]/g,"");document.getElementById("agree").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501?(document.getElementById("warning").style.display="block",document.getElementById("warning").style.color="#49ff0c",document.getElementById("warning").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){closeBurger(),document.getElementById("warning").style.display="none"},2e3),console.log("процесс отправки формы"),setTimeout(function(){document.querySelector(".header__form").style.display="none",headerCover.style.display="none",body.style.overflow="scroll"},2e3),console.log("валидация прошла успешно"),f_formSucess=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста введите правильные данные",document.getElementById("warning").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning").style.display="block")}),f_formSucess2=!1,telSelector2=(document.addEventListener("DOMContentLoaded",function(){document.getElementById("form-down").addEventListener("submit",function(e){var t,n;e.preventDefault(),console.log("submit"),validForm2(),console.log(f_formSucess2),!0===f_formSucess2&&(t=new FormData(e.target),n={},t.forEach(function(e,t){n[t]=e}),fetch("finish2.php",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log("Письмо ушло")}),e.target.reset(),f_formSucess2=!1)})}),document.getElementById("phone-f")),nameSelector2=document.getElementById("name-f"),questionSelector2=document.getElementById("question-f"),telValid2=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm2=(telValid2.mask(telSelector2),function(){var e=telSelector2.value,t=nameSelector2.value,n=questionSelector2.value,e=e.replace(/[^0-9]/g,"");document.getElementById("agree-f").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501?(document.getElementById("warning-f").style.display="block",document.getElementById("warning-f").style.color="#49ff0c",document.getElementById("warning-f").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){document.getElementById("warning-f").style.display="none"},2e3),console.log("валидация прошла успешно"),f_formSucess2=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning-f").textContent="Пожалуйста введите правильные данные",document.getElementById("warning-f").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning-f").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning-f").style.display="block")});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWxlcnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhbGVydFN0YXJ0Iiwic3R5bGUiLCJvdmVyZmxvdyIsImhlYWRlciIsInNldEF0dHJpYnV0ZSIsInNldFRpbWVvdXQiLCJtMyIsIm0yIiwiYmlnT2JnIiwiZm9nIiwiYmx1ciIsIm0xIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFsZXJ0RmluaXNoIiwiZXYiLCJhcmVhIiwidGFyZ2V0IiwiY2xvc2VzdCIsImFyZWEyIiwibGFuZ3dSYW5kb21lIiwibGFuZ3dUZXh0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb3VudGVyIiwiaW5uIiwiaGVhZGVyU3RpY2t5IiwicmFuZG9tZVBvdCIsInJlbW92ZUF0dHJpYnV0ZSIsImdvb2RieSIsImxpc3RlbmVyIiwiY291bnQiLCJ0bXAiLCJhIiwiZXZlbnQiLCJpdGVtIiwiZm9yRWFjaCIsInRleHRDb250ZW50IiwiY2hpbGQiLCJlbCIsImxhc3RFbGVtZW50Q2hpbGQiLCJhY2NvcmRlb24iLCJ0YWIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uIiwiYXJyb3dzIiwiY2xpY2sxIiwiZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0cmFuc2Zvcm0iLCJ0b3AiLCJQbGF5ZXIiLCJ2aWRlb0lkIiwibWFyayIsInZpZGVvIiwicGxheWVyVmFycyIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJvblBsYXllclJlYWR5IiwicGxheWVyIiwidGFnIiwiY3JlYXRlRWxlbWVudCIsInN3aXBlciIsInNyYyIsInl0Q3Jvc3MiLCJmaXJzdFNjcmlwdFRhZyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjbGlja2FibGUiLCJ5dEJhY2siLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwiYmFja2dybyIsImFkZCIsIllUIiwiaGVpZ2h0IiwiVGVzdERyaXZlRm4iLCJ3aWR0aCIsImJsb2NrIiwiYXV0b3BsYXkiLCJjb250cm9scyIsImJlaGF2aW9yIiwib25SZWFkeSIsInNldFZvbHVtZSIsInBsYXlWaWRlbyIsInNldFBsYXliYWNrUXVhbGl0eSIsIm9uU3RhdGVDaGFuZ2UiLCJkYXRhIiwiUGxheWVyU3RhdGUiLCJCVUZGRVJJTkciLCJyZW1vdmUiLCJxdWVzdGlvbnNGbiIsImRlc3Ryb3kiLCJsb29wIiwicGFnaW5hdGlvbiIsImJ1cmdlck1lbnUiLCJidXJnZXJCdG4iLCJidXJnZXJDbG9zZUJ0biIsInNjcm9sbEludG9WaWV3IiwiaGVhZGVyQ292ZXIiLCJkZWNpc2lvbnNGbiIsIkZpZWxkRm9ybSIsInB1QXJyIiwibW9yZUZuIiwibm9GaWVsZCIsIm5vRmllbGRGb3JtIiwiYnVyZ2VyTGlua3MiLCJmb3JtIiwiYnVyZ2VyR2V0aW5mbyIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VCdXJnZXIiLCJ2YWxpZEZvcm0iLCJmX2Zvcm1TdWNlc3MiLCJzZW5kRm9ybSIsIm1ldGhvZCIsImRpc3BsYXkiLCJoZWFkZXJzIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiY29uc29sZSIsIm5hbWVTZWxlY3RvciIsInF1ZXN0aW9uU2VsZWN0b3IiLCJ0ZWxWYWxpZCIsImNvbXBvc2VkUGF0aCIsImluY2x1ZGVzIiwidXBGb3JtIiwiZm9ybUJ0bkNsaWNrZWQiLCJtYXNrIiwidGVsU2VsZWN0b3IiLCJsb25nMiIsImxvbmczIiwiZm9ybVN1Y2VzcyIsImZvcm0yIiwidXNlciIsInZhbGlkRm9ybTIiLCJmX2Zvcm1TdWNlc3MyIiwibG9nIiwiZmV0Y2giLCJGb3JtRGF0YSIsImRhdGFGb3JtIiwidmFsIiwia2V5IiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJ0aGVuIiwidGVsU2VsZWN0b3IyIiwicXVlc3Rpb25TZWxlY3RvcjIiLCJyZXNldCIsImRlZmluaXRpb25zIiwidGVsVmFsaWQyIiwibG9uZzQiLCJ2YWx1ZSIsImxvbmc1IiwiZ3JlZWR5IiwiKiIsImxvbmciLCJjaGVja2VkIiwibG9uZ051bSIsImxlbmd0aCIsImNvbG9yIiwiQ29udGVudC10eXBlIiwibmFtZVNlbGVjdG9yMiIsIklucHV0bWFzayIsInZhbGlkYXRvciIsImxvbmc2IiwibG9uZ051bTIiLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFBQSxNQUFBQyxTQUFBQyxjQUFBLGNBQUEsRUFHRUMsS0FBT0YsU0FBU0UsTUFBUUYsU0FBU0cscUJBQXFCLE1BQU0sRUFBRSxHQUdoRSxTQUFTQyxhQUdQRixNQUFLRyxhQUFjLEtBQUcsYUFBUSxFQUVoQ0gsS0FBQUcsTUFBQUMsU0FBQSxRQUlBLENBRkEsSUFLSUMsT0FBT0MsU0FBQUEsY0FBbUIsU0FBVSxFQUh4QyxTQU1FQyxlQUFBQSxXQUlGLFdBRUVGLE9BQVNQLGFBQVNDLEtBQUFBLFNBQWMsQ0FSaEMsRUFXZSxHQUFDQSxDQVBsQixDQUVBLFNBU0tPLGNBRUhFLElBQUdGLEVBQUFBLFNBQWFQLGNBQWdCLGlCQUFDLEVBQy9CVSxFQUFDSCxTQUFhUCxjQUFNLGlCQUFXLEVBQ2pDVyxFQUFPSixTQUFBQSxjQUFtQixpQkFBWSxFQUN0Q0ssRUFBSUwsU0FBWVAsY0FBYSxpQkFBQSxFQUM3QmEsRUFBS04sU0FBYVAsY0FBYSxlQUFBLEVBQy9CWSxFQUFBYixTQUFBQyxjQUFBLFlBQUEsRUFDRmEsRUFBQWQsU0FBQUMsY0FBQSxhQUFBLEVBUkVjLEVBQUdQLGFBQWEsS0FBTSxVQUFVLEVBVWxDRyxFQUFBSCxhQUFBLEtBQUEsVUFBQSxFQVJFRSxFQUFHRixhQUFhLEtBQU0sVUFBVSxFQVVsQ1IsRUFBQUEsYUFBU2dCLEtBQUFBLFVBQXdCLEVBRWpDSixFQUFTSyxhQUFZQyxLQUFJLFdBQUEsRUFFdkJMLEVBQU1NLGFBQVVDLEtBQU9DLEtBQU8sRUFDOUJQLEVBQU1RLGFBQVdGLEtBQU9DLE1BQVEsQ0FUbEMsQ0FtQkEsU0FBQUosWUFBQUMsR0FYRSxJQUFNQyxFQUFPRCxFQUFHRSxPQUFPQyxRQUFRLE1BQU0sRUFnQnZD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QUFTLElBQXlCLEVBQWZNLEVBQU1OLFFBQWdCTSxFQUFNTixPQUFTLE1BRTdJbEssU0FBU29ELGVBQWUsV0FBVyxFQUFFL0MsTUFBTWlILFFBQVUsUUFDckR0SCxTQUFTb0QsZUFBZSxXQUFXLEVBQUUvQyxNQUFNOEosTUFBUSxVQUNuRG5LLFNBQVNvRCxlQUFlLFdBQVcsRUFBRWIsWUFBYywrQkFPbkQ5QixXQUxBLFdBRUVULFNBQVNvRCxlQUFlLFdBQVcsRUFBRS9DLE1BQU1pSCxRQUFVLE1BRXZELEVBQ3dCLEdBQUksRUFFNUJHLFFBQVFpQixJQUFJLDBCQUEwQixFQUV0Q0QsY0FBZ0IsQ0FBQSxJQUloQmhCLFFBQVFpQixJQUFJLDhCQUE4QixFQUcxQzFJLFNBQVNvRCxlQUFlLFdBQVcsRUFBRWIsWUFBYyx1Q0FDbkR2QyxTQUFTb0QsZUFBZSxXQUFXLEVBQUUvQyxNQUFNaUgsUUFBVSxVQUt2REcsUUFBUWlCLElBQUksOEJBQThCLEVBRTFDMUksU0FBU29ELGVBQWUsV0FBVyxFQUFFYixZQUFjLGtFQUNuRHZDLFNBQVNvRCxlQUFlLFdBQVcsRUFBRS9DLE1BQU1pSCxRQUFVLFFBRXpEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIZXJvLXNlY3Rpb24g0JDQvdC40LzQsNGG0LjRjyDQv9C+0Y/QstC70LXQvdC40Y9cclxuXHJcbmNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2FsZXJ0JyksXHJcbiAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcclxuXHJcblxyXG5mdW5jdGlvbiBhbGVydFN0YXJ0KCkge1xyXG5cclxuICBhbGVydC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFsZXJ0X3N0YXJ0XCIpO1xyXG4gIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuXHJcbn1cclxuXHJcbmxldCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyk7XHJcblxyXG5mdW5jdGlvbiBoZWFkZXJTdGlja3koKSB7XHJcblxyXG4gIGZ1bmN0aW9uIHIxKCkge1xyXG4gICAgaGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYWN0aGVhZFwiKTtcclxuICB9XHJcblxyXG4gIHNldFRpbWVvdXQocjEsIDEwMDApO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZUhlcm8oKSB7XHJcblxyXG4gIGxldCBtMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwMScpLFxyXG4gICAgbTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDInKSxcclxuICAgIG0zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX21vZHVsZTAzJyksXHJcbiAgICBtNCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwNCcpLFxyXG4gICAgYmlnT2JnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2JpZ29iaicpLFxyXG4gICAgZm9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2ZvZycpLFxyXG4gICAgYmx1ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19ibHVyJyk7XHJcbiAgbTEuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb2R1bGUwMVwiKTtcclxuICBtMi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1vZHVsZTAyXCIpO1xyXG4gIG0zLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDNcIik7XHJcbiAgbTQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb2R1bGUwNFwiKTtcclxuICBiaWdPYmcuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJiaWdkZXZpY2VcIik7XHJcbiAgZm9nLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZm9nXCIpO1xyXG4gIGJsdXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJibHVyXCIpO1xyXG4gIC8vc2V0VGltZW91dChhbGVydFN0YXJ0LCAyMDAwKTtcclxufVxyXG5cclxuLy8g0LfQsNC60YDRi9GC0LjQtSDQvtC60L3QsCDQv9GA0L4g0LrRg9C60LhcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWxlcnRGaW5pc2gpO1xyXG5cclxuZnVuY3Rpb24gYWxlcnRGaW5pc2goZXYpIHtcclxuXHJcbiAgY29uc3QgYXJlYSA9IGV2LnRhcmdldC5jbG9zZXN0KFwiI3N1YlwiKTtcclxuICBjb25zdCBhcmVhMiA9IGV2LnRhcmdldC5jbG9zZXN0KFwiI3Vuc3ViXCIpO1xyXG5cclxuICBpZiAoKGFyZWEpIHx8IChhcmVhMikpIHtcclxuXHJcbiAgICBhbGVydC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImFsZXJ0X3N0YXJ0XCIpO1xyXG4gICAgYW5pbWF0ZUhlcm8oKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFsZXJ0U3RhcnQpO1xyXG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4gICAgaGVhZGVyU3RpY2t5KCk7XHJcbiAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhbGVydFN0YXJ0KTtcclxuXHJcblxyXG4vL9Cy0YvQsdC+0YAg0Y/Qt9GL0LrQsFxyXG5cclxubGV0IGxhbmd3UmFuZG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Nob3NlLWxhbmcnKSxcclxuICByYW5kb21lUG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fcmFuZG9tZScpLFxyXG4gIGxhbmd3VGV4dCA9IGxhbmd3UmFuZG9tZS5maXJzdEVsZW1lbnRDaGlsZCxcclxuICBjb3VudGVyID0gMDtcclxuXHJcbmxhbmd3UmFuZG9tZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBpbm4pO1xyXG5sYW5nd1JhbmRvbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbm4pO1xyXG5cclxuZnVuY3Rpb24gaW5uKCkge1xyXG4gIHJhbmRvbWVQb3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJsaXN0LXN0YXJ0XCIpO1xyXG59XHJcblxyXG5yYW5kb21lUG90LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG4gIHJhbmRvbWVQb3QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJsaXN0LXN0YXJ0XCIpO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L3QtSDRgNCw0LHQvtGC0LDQtdGCLCDQtdGB0LvQuCDQvdC1INC/0L7QstC10YHQuNGC0Ywgb25jbGljayDQvdCwINC60LDQttC00YPRjiDQutC90L7Qv9C60YMg0LIg0YHQv9C40YHQutC1ICjQvdC1INGH0LXRgNC10LcgYWRkZXZsaXMsINCwINGH0LXRgNC10Lcg0YLQtdCzIG9uY2xpY2spXHJcbmZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XHJcbiAgbGV0IGVsID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICBpZiAoZWwpIHtcclxuXHJcbiAgICBsZXQgYSA9IGVsLnRleHRDb250ZW50LFxyXG4gICAgICBiID0gbGFuZ3dUZXh0LnRleHRDb250ZW50O1xyXG5cclxuICAgIGxldCB0bXAgPSBhO1xyXG4gICAgYSA9IGI7XHJcbiAgICBiID0gdG1wO1xyXG4gICAgbGFuZ3dUZXh0LnRleHRDb250ZW50ID0gYjtcclxuICAgIGVsLnRleHRDb250ZW50ID0gYTtcclxuXHJcbiAgICBmdW5jdGlvbiBnb29kYnkoKSB7XHJcblxyXG4gICAgICByYW5kb21lUG90LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwibGlzdC1zdGFydFwiKTtcclxuXHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KGdvb2RieSwgMjAwKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9hY2NvcmRlb25cclxuXHJcbmxldCBhY2NvcmRlb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVlc3Rpb25zX19wYXJ0MicpLFxyXG4gIHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX2Jsb2NrJyksXHJcbiAgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fdG9mb3JtJyksXHJcbiAgYXJyb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fdG9mb3JtJyksXHJcbiAgY291bnQ7XHJcblxyXG5mdW5jdGlvbiBjbGljazEoZSkge1xyXG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5xdWVzdGlvbnNfX2Jsb2NrJyk7XHJcbiAgaWYgKHRhcmdldCkge1xyXG5cclxuICAgIHRhYi5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblxyXG4gICAgICBsZXQgY2hpbGQgPSBpdGVtLmZpcnN0RWxlbWVudENoaWxkLmxhc3RFbGVtZW50Q2hpbGQ7XHJcblxyXG4gICAgICBpZiAoaXRlbSA9PT0gdGFyZ2V0KSB7XHJcblxyXG5cclxuICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ21hcmsnKSkge1xyXG5cclxuICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XHJcblxyXG4gICAgICAgICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0taW5cIik7XHJcbiAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1vdXRcIik7XHJcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDBkZWcpJyArICd0cmFuc2xhdGUoMCwgLTUwJSknO1xyXG4gICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgICAgICAgIGNvdW50KytcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09IDIpIHtcclxuXHJcbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1vdXRcIik7XHJcbiAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1pblwiKTtcclxuICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKScgKyAndHJhbnNsYXRlKDAsIDApJztcclxuICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRvcCA9ICczMHB4JztcclxuICAgICAgICAgICAgY291bnQtLVxyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1pblwiKTtcclxuICAgICAgICAgIGNvdW50ID0gMDtcclxuICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ21hcmsnKTtcclxuICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDE4MGRlZyknICsgJ3RyYW5zbGF0ZSgwLCAwKSc7XHJcbiAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudG9wID0gJzMwcHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9O1xyXG59O1xyXG5hY2NvcmRlb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gIGNsaWNrMShlKTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy/Qn9GA0L7QuNCz0YDRi9Cy0LDRgtC10LvRjFxyXG5cclxuXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcclxuICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcclxuXHJcbiAgdmFyIHBsYXllcjtcclxuXHJcbiAgbGV0IHl0Q3Jvc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmNyb3NzMScpLFxyXG4gICAgYmFja2dybyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZnJhbWUxJyksXHJcbiAgICB5dEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY292ZXInKSxcclxuICAgIG1hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX2xpbmsnKSxcclxuICAgIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcblxyXG4gIG1hcmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgYmFja2dyby5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIHl0QmFjay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3BsYXllcicsIHtcclxuICAgICAgaGVpZ2h0OiAnMTA4MCcsXHJcbiAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgIHZpZGVvSWQ6IG1hcmsuZGF0YXNldC52aWRlbywvL9C40Lcg0LDRgtGA0LjQsdGD0YLQsCBkYXRhLXZpZGVvINC60L3QvtC/0LrQuFxyXG4gICAgICBwbGF5ZXJWYXJzOiB7ICdhdXRvcGxheSc6IDEsICdjb250cm9scyc6IDEgfSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgJ29uUmVhZHknOiBvblBsYXllclJlYWR5LFxyXG4gICAgICAgICdvblN0YXRlQ2hhbmdlJzogb25QbGF5ZXJTdGF0ZUNoYW5nZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvblBsYXllclJlYWR5KGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnRhcmdldC5zZXRWb2x1bWUoMzApO1xyXG4gICAgICBldmVudC50YXJnZXQucGxheVZpZGVvKCk7XHJcbiAgICAgIGV2ZW50LnRhcmdldC5zZXRQbGF5YmFja1F1YWxpdHkoJ2hpZ2hyZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblBsYXllclN0YXRlQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICAgIGlmIChldmVudC5kYXRhID09IFlULlBsYXllclN0YXRlLkJVRkZFUklORykge1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5zZXRQbGF5YmFja1F1YWxpdHkoJ2hpZ2hyZXMnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIGxldCB5dGJnQXJyID0gW3l0QmFjaywgeXRDcm9zc107XHJcbiAgeXRiZ0Fyci5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGJhY2tncm8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIHl0QmFjay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4gICAgICBwbGF5ZXIuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuLy8tIHN3aXBlclxyXG5cclxuY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlcicsIHtcclxuICAvLyDQndCw0YHRgtGA0L7QudC60LggU3dpcGVyXHJcbiAgbG9vcDogdHJ1ZSwgLy8g0JHQtdGB0LrQvtC90LXRh9C90LDRjyDQv9GA0L7QutGA0YPRgtC60LBcclxuICBwYWdpbmF0aW9uOiB7XHJcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICBjbGlja2FibGU6IHRydWUsIC8vINCU0LXQu9Cw0LXRgiDQv9Cw0LPQuNC90LDRhtC40Y4g0LrQu9C40LrQsNCx0LXQu9GM0L3QvtC5XHJcbiAgfSxcclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6ICcuc2xpZGVyX19idG4tbmV4dCcsXHJcbiAgICBwcmV2RWw6ICcuc2xpZGVyX19idG4tcHJldicsXHJcbiAgfSxcclxufSk7XHJcblxyXG5cclxuXHJcbi8v0J/Qu9Cw0LLQvdCw0Y8g0L/RgNC+0LrRgNGD0YLQutCwINC00L4g0YHRgdGL0LvQvtC6XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIFRlc3REcml2ZUZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0ZHJpdmUnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZGVjaXNpb25zRm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY2lzaW9ucycpLnNjcm9sbEludG9WaWV3KHtcclxuICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBsZWFybmluZ0ZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWFybmluZycpLnNjcm9sbEludG9WaWV3KHtcclxuICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiB0cnVzdEZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnVzdCcpLnNjcm9sbEludG9WaWV3KHtcclxuICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBxdWVzdGlvbnNGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb25zJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vcmVGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1kb3duLTInKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8g0LHRg9GA0LPQtdGAIC0g0LzQtdC90Y5cclxuXHJcbmxldCBidXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJyksXHJcbiAgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyLWJ0bicpLFxyXG4gIGJ1cmdlckNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY3Jvc3MnKSxcclxuICBoZWFkZXJDb3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2NvdmVyJyksIC8v0LfQsNGC0LXQvNC90LXQvdC40LUg0L3QsCDRhNC+0L3QtVxyXG4gIGJ1cmdlckxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcl9saW5rcycpLFxyXG4gIHVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19mb3JtXCIpLC8v0LLQtdGA0YXQvdGP0Y8g0YTQvtGA0LzQsFxyXG4gIGJ1cmdlckdldGluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19mb3JtLWJ0bicpO1xyXG5cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgaWYgKGJ1cmdlck1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXJfX2J1cmdlci0tb3V0JykpIHtcclxuICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLW91dCcpO1xyXG4gIH07XHJcbiAgYnVyZ2VyTWVudS5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX2J1cmdlci0taW4nKTtcclxuICBoZWFkZXJDb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblxyXG4gIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbm9uRm9ybUNsaWNrKTtcclxuXHJcbiAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxyXG59KTtcclxuXHJcblxyXG5cclxuLy8g0JvQvtCz0LjQutCwINC/0L7RgdC70LUg0L7RgtC60YDRi9GC0LjRjyDQsdGD0YDQs9C10YAgLSDQvNC10L3Rjiwg0LXRgdC70Lgg0YXQvtGC0Y/RgiDQt9Cw0LrRgNGL0YLRjCDQtdCz0L5cclxuXHJcbmxldCBjbG9zZUJ1cmdlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgYnVyZ2VyTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXJfX2J1cmdlci0taW4nKTtcclxuICBoZWFkZXJDb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICAvLyBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cclxuICBsZXQgbUJ1cmdlciA9IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyTWVudSk7XHJcbiAgbGV0IGZvcm1CdG5DbGlja2VkID0gZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhidXJnZXJHZXRpbmZvKTtcclxuICBsZXQgbm9GaWVsZCA9IGZhbHNlO1xyXG4gIGxldCBGaWVsZEZvcm0gPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHVwRm9ybSk7XHJcbiAgbGV0IG5vRmllbGRGb3JtID0gZmFsc2U7XHJcblxyXG4gIC8vIGNvbnN0IHdpdGhpbkJvdW5kYXJpZXMgPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGRpdik7XHJcblxyXG4gIGlmIChmb3JtQnRuQ2xpY2tlZCkge1xyXG5cclxuICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbiAgICB1cEZvcm0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gIH1cclxuXHJcbiAgaWYgKCFtQnVyZ2VyKSB7XHJcbiAgICBub0ZpZWxkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGxldCBwdUFyciA9IFtcclxuXHJcbiAgICBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlckNsb3NlQnRuKSxcclxuICAgIGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyTGlua3MpXHJcblxyXG4gIF07XHJcblxyXG4gIHB1QXJyLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpZiAoaXRlbSkgeyBjbG9zZUJ1cmdlcigpOyB9XHJcbiAgfSlcclxuXHJcblxyXG4gIGlmIChub0ZpZWxkID09PSB0cnVlKSB7XHJcblxyXG4gICAgaWYgKCFGaWVsZEZvcm0pIHtcclxuICAgICAgbm9GaWVsZEZvcm0gPSB0cnVlO1xyXG4gICAgICB1cEZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgY2xvc2VCdXJnZXIoKTtcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyDRhNC+0YDQvNCwINC+0YLQv9GA0LDQstC60Lgg0Lgg0LLQsNC70LjQtNCw0YbQuNGPXHJcblxyXG5cclxubGV0IGZfZm9ybVN1Y2VzcyA9IGZhbHNlO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtJyk7XHJcblxyXG5cclxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xyXG5cclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ3N1Ym1pdCcpO1xyXG5cclxuICAgIHZhbGlkRm9ybSgpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGZfZm9ybVN1Y2Vzcyk7XHJcblxyXG5cclxuICAgIGlmIChmX2Zvcm1TdWNlc3MgPT09IHRydWUpIHtcclxuXHJcbiAgICAgIGNvbnN0IHNlbmRGb3JtID0gKGRhdGEpID0+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKCdmaW5pc2gucGhwJywge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkYXRhRm9ybSA9IG5ldyBGb3JtRGF0YShldmVudC50YXJnZXQpO1xyXG4gICAgICBjb25zdCB1c2VyID0ge307XHJcblxyXG4gICAgICBkYXRhRm9ybS5mb3JFYWNoKCh2YWwsIGtleSkgPT4ge1xyXG4gICAgICAgIHVzZXJba2V5XSA9IHZhbDtcclxuICAgICAgfSlcclxuICAgICAgc2VuZEZvcm0odXNlcikudGhlbihkYXRhID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygn0J/QuNGB0YzQvNC+INGD0YjQu9C+Jyk7IC8v0LfQtNC10YHRjCDQstGB0YLQsNCy0LvRj9GC0Ywg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0YPRgdC/0LXRiNC90L7QuSDQvtGC0YHRi9C70LrQtVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZXZlbnQudGFyZ2V0LnJlc2V0KCk7IC8v0L7QsdC90YPQu9GP0LXRgiDRhNC+0YDQvNGDXHJcblxyXG4gICAgICBmX2Zvcm1TdWNlc3MgPSBmYWxzZTtcclxuICAgIH1cclxuICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5sZXQgdGVsU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUnKSxcclxuICBuYW1lU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLFxyXG4gIHF1ZXN0aW9uU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb24nKTtcclxuXHJcbmNvbnN0IHRlbFZhbGlkID0gbmV3IElucHV0bWFzayh7XHJcbiAgbWFzazogXCIrKnsxLDIwfVwiLFxyXG4gIGdyZWVkeTogZmFsc2UsXHJcbiAgZGVmaW5pdGlvbnM6IHtcclxuICAgICcqJzoge1xyXG4gICAgICB2YWxpZGF0b3I6IFwiWzAtOVxcdTAwMjhcXHUwMDI5XFx1MDAyZF1cIiwvL9Cy0LDQu9C40LTQsNGG0LjRjyDQv9GA0L7Qv9GD0YHQutCw0LXRgiDRgtC+0LvRjNC60L4g0YfQuNGB0LvQsCDQvtGCIDAg0LTQviA5LCDQtNC10YTQuNGBINC4INGB0LrQvtCx0LrQuFxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG50ZWxWYWxpZC5tYXNrKHRlbFNlbGVjdG9yKTsgLy/Qv9GA0LjQvNC10L3Rj9C10Lwg0YHRhNC+0YDQvNC40YDQvtCy0LDQvdC90YPRjiDQvNCw0YHQutGDINC00LvRjyDRg9C60LDQt9Cw0L3QvdC+0LPQviDQuNC90L/Rg9GC0LAgZW1haWxTZWxlY3RvclxyXG5cclxuXHJcbmxldCB2YWxpZEZvcm0gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICBsZXQgbG9uZyA9IHRlbFNlbGVjdG9yLnZhbHVlLFxyXG4gICAgbG9uZzIgPSBuYW1lU2VsZWN0b3IudmFsdWUsXHJcbiAgICBsb25nMyA9IHF1ZXN0aW9uU2VsZWN0b3IudmFsdWU7XHJcbiAgbGV0IGxvbmdOdW0gPSBsb25nLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKTsgLy/Rg9C00LDQu9GP0LXQvCDQuNC3INGB0YLRgNC+0LrQuCDQstGB0ZEsINC60YDQvtC80LUg0YbQuNGE0YAgIC8vINC+0YjQuNCx0LrQsCDQuNC3LdC30LAg0Y3RgtC+0LPQvlxyXG5cclxuICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ3JlZScpLmNoZWNrZWQpKSB7XHJcblxyXG4gICAgaWYgKCgobG9uZ051bS5sZW5ndGggPiAyKSAmJiAobG9uZ051bS5sZW5ndGggPCA1MCkpICYmICgobG9uZzIubGVuZ3RoID4gMSkgJiYgKGxvbmcyLmxlbmd0aCA8IDM2KSkgJiYgKChsb25nMy5sZW5ndGggPiAyKSAmJiAobG9uZzMubGVuZ3RoIDwgMTUwMSkpKSB7XHJcblxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuY29sb3IgPSBcIiM0OWZmMGNcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS50ZXh0Q29udGVudCA9IFwi0KHQv9Cw0YHQuNCx0L4sINC80Ysg0YHQstGP0LbQtdC80YHRjyDRgSDQktCw0LzQuCFcIjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGZvcm1TdWNlc3MoKSB7XHJcblxyXG4gICAgICAgIGNsb3NlQnVyZ2VyKCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgfVxyXG4gICAgICBzZXRUaW1lb3V0KGZvcm1TdWNlc3MsIDIwMDApO1xyXG5cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfQv9GA0L7RhtC10YHRgSDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YsnKVxyXG5cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdvb2RieSgpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZm9ybScpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBoZWFkZXJDb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRpbWVvdXQoZ29vZGJ5LCAyMDAwKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfQstCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0YjQu9CwINGD0YHQv9C10YjQvdC+Jyk7XHJcblxyXG4gICAgICBmX2Zvcm1TdWNlc3MgPSB0cnVlO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0YTQvtGA0LzQsCDQvdC1INC/0YDQvtGI0LvQsCDQv9C+INCy0LDQu9C40LTQsNGG0LjQuCcpO1xyXG5cclxuXHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C1INC00LDQvdC90YvQtVwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ9GE0L7RgNC80LAg0L3QtSDQv9GA0L7RiNC70LAg0L/QviDQstCw0LvQuNC00LDRhtC40LgnKTtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQtNCw0LnRgtC1INGB0LLQvtC1INGB0L7Qs9C70LDRgdC40LUg0L3QsCDQvtCx0YDQsNCx0L7RgtC60YMg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vINGE0L7RgNC80LAg0L7RgtC/0YDQsNCy0LrQuCDQuCDQstCw0LvQuNC00LDRhtC40Y9cclxuXHJcblxyXG5sZXQgZl9mb3JtU3VjZXNzMiA9IGZhbHNlO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgZm9ybTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1kb3duJyk7XHJcblxyXG5cclxuICBmb3JtMi5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcclxuXHJcbiAgICB2YWxpZEZvcm0yKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coZl9mb3JtU3VjZXNzMik7XHJcblxyXG5cclxuICAgIGlmIChmX2Zvcm1TdWNlc3MyID09PSB0cnVlKSB7XHJcblxyXG4gICAgICBjb25zdCBzZW5kRm9ybTIgPSAoZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICByZXR1cm4gZmV0Y2goJ2ZpbmlzaDIucGhwJywge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkYXRhRm9ybSA9IG5ldyBGb3JtRGF0YShldmVudC50YXJnZXQpO1xyXG4gICAgICBjb25zdCB1c2VyID0ge307XHJcblxyXG4gICAgICBkYXRhRm9ybS5mb3JFYWNoKCh2YWwsIGtleSkgPT4ge1xyXG4gICAgICAgIHVzZXJba2V5XSA9IHZhbDtcclxuICAgICAgfSlcclxuICAgICAgc2VuZEZvcm0yKHVzZXIpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Cf0LjRgdGM0LzQviDRg9GI0LvQvicpOyAvL9C30LTQtdGB0Ywg0LLRgdGC0LDQstC70Y/RgtGMINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINGD0YHQv9C10YjQvdC+0Lkg0L7RgtGB0YvQu9C60LVcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGV2ZW50LnRhcmdldC5yZXNldCgpOyAvL9C+0LHQvdGD0LvRj9C10YIg0YTQvtGA0LzRg1xyXG5cclxuICAgICAgZl9mb3JtU3VjZXNzMiA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG5cclxuXHJcbmxldCB0ZWxTZWxlY3RvcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUtZicpLFxyXG4gIG5hbWVTZWxlY3RvcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZS1mJyksXHJcbiAgcXVlc3Rpb25TZWxlY3RvcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb24tZicpO1xyXG5cclxuY29uc3QgdGVsVmFsaWQyID0gbmV3IElucHV0bWFzayh7XHJcbiAgbWFzazogXCIrKnsxLDIwfVwiLFxyXG4gIGdyZWVkeTogZmFsc2UsXHJcbiAgZGVmaW5pdGlvbnM6IHtcclxuICAgICcqJzoge1xyXG4gICAgICB2YWxpZGF0b3I6IFwiWzAtOVxcdTAwMjhcXHUwMDI5XFx1MDAyZF1cIiwvL9Cy0LDQu9C40LTQsNGG0LjRjyDQv9GA0L7Qv9GD0YHQutCw0LXRgiDRgtC+0LvRjNC60L4g0YfQuNGB0LvQsCDQvtGCIDAg0LTQviA5LCDQtNC10YTQuNGBINC4INGB0LrQvtCx0LrQuFxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG50ZWxWYWxpZDIubWFzayh0ZWxTZWxlY3RvcjIpOyAvL9C/0YDQuNC80LXQvdGP0LXQvCDRgdGE0L7RgNC80LjRgNC+0LLQsNC90L3Rg9GOINC80LDRgdC60YMg0LTQu9GPINGD0LrQsNC30LDQvdC90L7Qs9C+INC40L3Qv9GD0YLQsCBlbWFpbFNlbGVjdG9yXHJcblxyXG5cclxubGV0IHZhbGlkRm9ybTIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICBsZXQgbG9uZzQgPSB0ZWxTZWxlY3RvcjIudmFsdWUsXHJcbiAgICBsb25nNSA9IG5hbWVTZWxlY3RvcjIudmFsdWUsXHJcbiAgICBsb25nNiA9IHF1ZXN0aW9uU2VsZWN0b3IyLnZhbHVlO1xyXG4gIGxldCBsb25nTnVtMiA9IGxvbmc0LnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKTsgLy/Rg9C00LDQu9GP0LXQvCDQuNC3INGB0YLRgNC+0LrQuCDQstGB0ZEsINC60YDQvtC80LUg0YbQuNGE0YAgIC8vINC+0YjQuNCx0LrQsCDQuNC3LdC30LAg0Y3RgtC+0LPQvlxyXG5cclxuICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ3JlZS1mJykuY2hlY2tlZCkpIHtcclxuXHJcbiAgICBpZiAoKChsb25nTnVtMi5sZW5ndGggPiAyKSAmJiAobG9uZ051bTIubGVuZ3RoIDwgNTApKSAmJiAoKGxvbmc1Lmxlbmd0aCA+IDEpICYmIChsb25nNS5sZW5ndGggPCAzNikpICYmICgobG9uZzYubGVuZ3RoID4gMikgJiYgKGxvbmc2Lmxlbmd0aCA8IDE1MDEpKSkge1xyXG5cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5jb2xvciA9IFwiIzQ5ZmYwY1wiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykudGV4dENvbnRlbnQgPSBcItCh0L/QsNGB0LjQsdC+LCDQvNGLINGB0LLRj9C20LXQvNGB0Y8g0YEg0JLQsNC80LghXCI7XHJcblxyXG4gICAgICBmdW5jdGlvbiBmb3JtU3VjZXNzMigpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgIH1cclxuICAgICAgc2V0VGltZW91dChmb3JtU3VjZXNzMiwgMjAwMCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0LLQsNC70LjQtNCw0YbQuNGPINC/0YDQvtGI0LvQsCDRg9GB0L/QtdGI0L3QvicpO1xyXG5cclxuICAgICAgZl9mb3JtU3VjZXNzMiA9IHRydWU7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfRhNC+0YDQvNCwINC90LUg0L/RgNC+0YjQu9CwINC/0L4g0LLQsNC70LjQtNCw0YbQuNC4Jyk7XHJcblxyXG5cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YvQtSDQtNCw0L3QvdGL0LVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ9GE0L7RgNC80LAg0L3QtSDQv9GA0L7RiNC70LAg0L/QviDQstCw0LvQuNC00LDRhtC40LgnKTtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINC00LDQudGC0LUg0YHQstC+0LUg0YHQvtCz0LvQsNGB0LjQtSDQvdCwINC+0LHRgNCw0LHQvtGC0LrRgyDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==