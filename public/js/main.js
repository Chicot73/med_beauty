var alert=document.querySelector(".hero__alert"),body=document.body||document.getElementsByTagName("body")[0];function alertStart(){alert.setAttribute("id","alert_start"),body.style.overflow="hidden"}var headerBack=document.querySelector(".header__back");function headerSticky(){setTimeout(function(){headerBack.setAttribute("id","acthead")},100)}function animateHero(){var e=document.querySelector(".hero__module01"),t=document.querySelector(".hero__module02"),n=document.querySelector(".hero__module03"),o=document.querySelector(".hero__module04"),r=document.querySelector(".hero__bigobj"),l=document.querySelector(".hero__fog"),c=document.querySelector(".hero__blur");e.setAttribute("id","module01"),t.setAttribute("id","module02"),n.setAttribute("id","module03"),o.setAttribute("id","module04"),r.setAttribute("id","bigdevice"),l.setAttribute("id","fog"),c.setAttribute("id","blur")}function alertFinish(e){var t=e.target.closest("#sub"),e=e.target.closest("#unsub");(t||e)&&(alert.removeAttribute("id","alert_start"),animateHero(),document.removeEventListener("scroll",alertStart),body.style.overflow="scroll",headerSticky())}document.addEventListener("click",alertFinish),document.addEventListener("scroll",alertStart);var langwRandome=document.querySelector(".header__chose-lang"),randomePot=document.querySelector(".header__randome"),langwText=langwRandome.firstElementChild,counter=0;function inn(){randomePot.setAttribute("id","list-start")}function listener(e){var t,n,e=e.target;e&&(t=n=e.textContent,n=langwText.textContent,langwText.textContent=t,e.textContent=n,setTimeout(function(){randomePot.removeAttribute("id","list-start")},200))}langwRandome.addEventListener("mouseover",inn),langwRandome.addEventListener("click",inn),randomePot.addEventListener("mouseout",function(){randomePot.removeAttribute("id","list-start")});var count,accordeon=document.querySelector(".questions__part2"),tab=document.querySelectorAll(".questions__block"),button=document.querySelectorAll(".questions__toform"),arrows=document.querySelectorAll(".questions__toform");function click1(e){var n=e.target.closest(".questions__block");n&&tab.forEach(function(e){var t=e.firstElementChild.lastElementChild;e===n&&(e.classList.contains("mark")?1==count?(t.removeAttribute("id","block-act--in"),t.setAttribute("id","block-act--out"),e.lastElementChild.style.transform="rotate(0deg)translate(0, -50%)",e.lastElementChild.style.top="50%",count++):2==count&&(t.removeAttribute("id","block-act--out"),t.setAttribute("id","block-act--in"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px",count--):(t.setAttribute("id","block-act--in"),count=0,count++,e.classList.add("mark"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px"))})}accordeon.addEventListener("click",function(e){click1(e)}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.createElement("script"),n=(e.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]),e=(n.parentNode.insertBefore(e,n),document.getElementById("vcross1")),o=document.getElementById("vframe1"),r=document.querySelector(".cover"),l=document.querySelector(".video__link"),c=document.querySelector("body");l.addEventListener("click",function(e){o.classList.add("active"),r.classList.add("active"),c.style.overflow="hidden",t=new YT.Player("player",{height:"1080",width:"100%",videoId:l.dataset.video,playerVars:{autoplay:1,controls:1},events:{onReady:function(e){e.target.setVolume(30),e.target.playVideo(),e.target.setPlaybackQuality("highres")},onStateChange:function(e){e.data==YT.PlayerState.BUFFERING&&e.target.setPlaybackQuality("highres")}}})}),[r,e].forEach(function(e){e.addEventListener("click",function(e){o.classList.remove("active"),r.classList.remove("active"),c.style.overflow="scroll",t.destroy()})})});var swiper=new Swiper(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".slider__btn-next",prevEl:".slider__btn-prev"}});function TestDriveFn(){document.getElementById("testdrive").scrollIntoView({block:"start",behavior:"smooth"})}function decisionsFn(){document.getElementById("decisions").scrollIntoView({block:"start",behavior:"smooth"})}function learningFn(){document.getElementById("learning").scrollIntoView({block:"start",behavior:"smooth"})}function trustFn(){document.getElementById("trust").scrollIntoView({block:"start",behavior:"smooth"})}function questionsFn(){document.getElementById("questions").scrollIntoView({block:"start",behavior:"smooth"})}function moreFn(){document.getElementById("form-down-2").scrollIntoView({block:"start",behavior:"smooth"})}var burgerMenu=document.querySelector(".header__burger"),burgerBtn=document.querySelector(".header__burger-btn"),burgerCloseBtn=document.querySelector(".header__cross"),headerCover=document.querySelector(".header__cover"),burgerLinks=document.getElementById("header_links"),upForm=document.querySelector(".header__form"),burgerGetinfo=document.querySelector(".header__form-btn"),closeBurger=(burgerBtn.addEventListener("click",function(e){burgerMenu.classList.contains("header__burger--out")&&burgerMenu.classList.remove("header__burger--out"),burgerMenu.classList.add("header__burger--in"),headerCover.style.display="block",body.style.overflow="hidden",e.stopImmediatePropagation()}),function(){burgerMenu.classList.remove("header__burger--in"),headerCover.style.display="none",body.style.overflow="scroll"}),f_formSucess=(document.addEventListener("click",function(e){var t=e.composedPath().includes(burgerMenu),n=e.composedPath().includes(burgerGetinfo),o=!1,r=e.composedPath().includes(upForm);n&&(burgerMenu.classList.remove("header__burger--in"),upForm.style.display="block"),t||(o=!0),[e.composedPath().includes(burgerCloseBtn),e.composedPath().includes(burgerLinks)].forEach(function(e){e&&closeBurger()}),!0!==o||r||(upForm.style.display="none",closeBurger())}),!1),telSelector=(document.addEventListener("DOMContentLoaded",function(){document.getElementById("form").addEventListener("submit",function(e){var t,n;e.preventDefault(),console.log("submit"),validForm(),console.log(f_formSucess),!0===f_formSucess&&(t=new FormData(e.target),n={},t.forEach(function(e,t){n[t]=e}),fetch("finish.php",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log("Письмо ушло")}),e.target.reset(),f_formSucess=!1)})}),document.getElementById("phone")),nameSelector=document.getElementById("name"),questionSelector=document.getElementById("question"),telValid=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm=(telValid.mask(telSelector),function(){var e=telSelector.value,t=nameSelector.value,n=questionSelector.value,e=e.replace(/[^0-9]/g,"");document.getElementById("agree").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501?(document.getElementById("warning").style.display="block",document.getElementById("warning").style.color="#49ff0c",document.getElementById("warning").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){closeBurger(),document.getElementById("warning").style.display="none"},2e3),console.log("процесс отправки формы"),setTimeout(function(){document.querySelector(".header__form").style.display="none",headerCover.style.display="none",body.style.overflow="scroll"},2e3),console.log("валидация прошла успешно"),f_formSucess=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста введите правильные данные",document.getElementById("warning").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning").style.display="block")}),f_formSucess2=!1,telSelector2=(document.addEventListener("DOMContentLoaded",function(){document.getElementById("form-down").addEventListener("submit",function(e){var t,n;e.preventDefault(),console.log("submit"),validForm2(),console.log(f_formSucess2),!0===f_formSucess2&&(t=new FormData(e.target),n={},t.forEach(function(e,t){n[t]=e}),fetch("finish2.php",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log("Письмо ушло")}),e.target.reset(),f_formSucess2=!1)})}),document.getElementById("phone-f")),nameSelector2=document.getElementById("name-f"),questionSelector2=document.getElementById("question-f"),telValid2=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm2=(telValid2.mask(telSelector2),function(){var e=telSelector2.value,t=nameSelector2.value,n=questionSelector2.value,e=e.replace(/[^0-9]/g,"");document.getElementById("agree-f").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501?(document.getElementById("warning-f").style.display="block",document.getElementById("warning-f").style.color="#49ff0c",document.getElementById("warning-f").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){document.getElementById("warning-f").style.display="none"},2e3),console.log("валидация прошла успешно"),f_formSucess2=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning-f").textContent="Пожалуйста введите правильные данные",document.getElementById("warning-f").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning-f").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning-f").style.display="block")});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWxlcnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhbGVydFN0YXJ0Iiwic3R5bGUiLCJvdmVyZmxvdyIsImhlYWRlckJhY2siLCJzZXRBdHRyaWJ1dGUiLCJzZXRUaW1lb3V0IiwibTMiLCJtMiIsImJpZ09iZyIsImZvZyIsImJsdXIiLCJtMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbGVydEZpbmlzaCIsImV2IiwiYXJlYSIsInRhcmdldCIsImNsb3Nlc3QiLCJhcmVhMiIsImxhbmd3UmFuZG9tZSIsImxhbmd3VGV4dCIsImZpcnN0RWxlbWVudENoaWxkIiwiY291bnRlciIsImlubiIsImhlYWRlclN0aWNreSIsInJhbmRvbWVQb3QiLCJyZW1vdmVBdHRyaWJ1dGUiLCJnb29kYnkiLCJsaXN0ZW5lciIsImNvdW50IiwidG1wIiwiYSIsImV2ZW50IiwiaXRlbSIsImZvckVhY2giLCJ0ZXh0Q29udGVudCIsImNoaWxkIiwiZWwiLCJsYXN0RWxlbWVudENoaWxkIiwiYWNjb3JkZW9uIiwidGFiIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbiIsImFycm93cyIsImNsaWNrMSIsImUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImdldEVsZW1lbnRCeUlkIiwidHJhbnNmb3JtIiwidG9wIiwiUGxheWVyIiwidmlkZW9JZCIsIm1hcmsiLCJ2aWRlbyIsInBsYXllclZhcnMiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwib25QbGF5ZXJSZWFkeSIsInBsYXllciIsInRhZyIsImNyZWF0ZUVsZW1lbnQiLCJzd2lwZXIiLCJzcmMiLCJ5dENyb3NzIiwiZmlyc3RTY3JpcHRUYWciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY2xpY2thYmxlIiwieXRCYWNrIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsImJhY2tncm8iLCJhZGQiLCJZVCIsImhlaWdodCIsIlRlc3REcml2ZUZuIiwid2lkdGgiLCJibG9jayIsImF1dG9wbGF5IiwiY29udHJvbHMiLCJiZWhhdmlvciIsIm9uUmVhZHkiLCJzZXRWb2x1bWUiLCJwbGF5VmlkZW8iLCJzZXRQbGF5YmFja1F1YWxpdHkiLCJvblN0YXRlQ2hhbmdlIiwiZGF0YSIsIlBsYXllclN0YXRlIiwiQlVGRkVSSU5HIiwicmVtb3ZlIiwicXVlc3Rpb25zRm4iLCJkZXN0cm95IiwibG9vcCIsInBhZ2luYXRpb24iLCJidXJnZXJNZW51IiwiYnVyZ2VyQnRuIiwiYnVyZ2VyQ2xvc2VCdG4iLCJzY3JvbGxJbnRvVmlldyIsImhlYWRlckNvdmVyIiwiZGVjaXNpb25zRm4iLCJGaWVsZEZvcm0iLCJwdUFyciIsIm1vcmVGbiIsIm5vRmllbGQiLCJub0ZpZWxkRm9ybSIsImJ1cmdlckxpbmtzIiwiZm9ybSIsImJ1cmdlckdldGluZm8iLCJwcmV2ZW50RGVmYXVsdCIsImNsb3NlQnVyZ2VyIiwidmFsaWRGb3JtIiwiZl9mb3JtU3VjZXNzIiwic2VuZEZvcm0iLCJtZXRob2QiLCJkaXNwbGF5IiwiaGVhZGVycyIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImNvbnNvbGUiLCJuYW1lU2VsZWN0b3IiLCJxdWVzdGlvblNlbGVjdG9yIiwidGVsVmFsaWQiLCJjb21wb3NlZFBhdGgiLCJpbmNsdWRlcyIsInVwRm9ybSIsImZvcm1CdG5DbGlja2VkIiwibWFzayIsInRlbFNlbGVjdG9yIiwibG9uZzIiLCJsb25nMyIsImZvcm1TdWNlc3MiLCJmb3JtMiIsInVzZXIiLCJ2YWxpZEZvcm0yIiwiZl9mb3JtU3VjZXNzMiIsImxvZyIsImZldGNoIiwiRm9ybURhdGEiLCJkYXRhRm9ybSIsInZhbCIsImtleSIsImpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwicmVzIiwidGhlbiIsInRlbFNlbGVjdG9yMiIsInF1ZXN0aW9uU2VsZWN0b3IyIiwicmVzZXQiLCJkZWZpbml0aW9ucyIsInRlbFZhbGlkMiIsImxvbmc0IiwidmFsdWUiLCJsb25nNSIsImdyZWVkeSIsIioiLCJsb25nIiwiY2hlY2tlZCIsImxvbmdOdW0iLCJsZW5ndGgiLCJjb2xvciIsIkNvbnRlbnQtdHlwZSIsIm5hbWVTZWxlY3RvcjIiLCJJbnB1dG1hc2siLCJ2YWxpZGF0b3IiLCJsb25nNiIsImxvbmdOdW0yIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsTUFBQUMsU0FBQUMsY0FBQSxjQUFBLEVBR0VDLEtBQU9GLFNBQVNFLE1BQVFGLFNBQVNHLHFCQUFxQixNQUFNLEVBQUUsR0FHaEUsU0FBU0MsYUFHUEYsTUFBS0csYUFBYyxLQUFHLGFBQVEsRUFFaENILEtBQUFHLE1BQUFDLFNBQUEsUUFJQSxDQUZBLElBS0lDLFdBQVdDLFNBQUFBLGNBQW1CLGVBQVUsRUFINUMsU0FNRUMsZUFBQUEsV0FJRixXQUVFRixXQUFTUCxhQUFTQyxLQUFjLFNBQUEsQ0FSaEMsRUFXZSxHQUFDQSxDQVBsQixDQUVBLFNBU0tPLGNBRUhFLElBQUdGLEVBQUFBLFNBQWFQLGNBQWdCLGlCQUFDLEVBQy9CVSxFQUFDSCxTQUFhUCxjQUFNLGlCQUFXLEVBQ2pDVyxFQUFPSixTQUFBQSxjQUFtQixpQkFBWSxFQUN0Q0ssRUFBSUwsU0FBWVAsY0FBYSxpQkFBQSxFQUM3QmEsRUFBS04sU0FBYVAsY0FBYSxlQUFBLEVBQy9CWSxFQUFBYixTQUFBQyxjQUFBLFlBQUEsRUFDRmEsRUFBQWQsU0FBQUMsY0FBQSxhQUFBLEVBUkVjLEVBQUdQLGFBQWEsS0FBTSxVQUFVLEVBVWxDRyxFQUFBSCxhQUFBLEtBQUEsVUFBQSxFQVJFRSxFQUFHRixhQUFhLEtBQU0sVUFBVSxFQVVsQ1IsRUFBQUEsYUFBU2dCLEtBQUFBLFVBQXdCLEVBRWpDSixFQUFTSyxhQUFZQyxLQUFJLFdBQUEsRUFFdkJMLEVBQU1NLGFBQVVDLEtBQU9DLEtBQU8sRUFDOUJQLEVBQU1RLGFBQVdGLEtBQU9DLE1BQVEsQ0FUbEMsQ0FtQkEsU0FBQUosWUFBQUMsR0FYRSxJQUFNQyxFQUFPRCxFQUFHRSxPQUFPQyxRQUFRLE1BQU0sRUFn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TSxPQUFTLElBQXlCLEVBQWZNLEVBQU1OLFFBQWdCTSxFQUFNTixPQUFTLE1BRTdJbEssU0FBU29ELGVBQWUsV0FBVyxFQUFFL0MsTUFBTWlILFFBQVUsUUFDckR0SCxTQUFTb0QsZUFBZSxXQUFXLEVBQUUvQyxNQUFNOEosTUFBUSxVQUNuRG5LLFNBQVNvRCxlQUFlLFdBQVcsRUFBRWIsWUFBYywrQkFPbkQ5QixXQUxBLFdBRUVULFNBQVNvRCxlQUFlLFdBQVcsRUFBRS9DLE1BQU1pSCxRQUFVLE1BRXZELEVBQ3dCLEdBQUksRUFFNUJHLFFBQVFpQixJQUFJLDBCQUEwQixFQUV0Q0QsY0FBZ0IsQ0FBQSxJQUloQmhCLFFBQVFpQixJQUFJLDhCQUE4QixFQUcxQzFJLFNBQVNvRCxlQUFlLFdBQVcsRUFBRWIsWUFBYyx1Q0FDbkR2QyxTQUFTb0QsZUFBZSxXQUFXLEVBQUUvQyxNQUFNaUgsUUFBVSxVQUt2REcsUUFBUWlCLElBQUksOEJBQThCLEVBRTFDMUksU0FBU29ELGVBQWUsV0FBVyxFQUFFYixZQUFjLGtFQUNuRHZDLFNBQVNvRCxlQUFlLFdBQVcsRUFBRS9DLE1BQU1pSCxRQUFVLFFBRXpEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIZXJvLXNlY3Rpb24g0JDQvdC40LzQsNGG0LjRjyDQv9C+0Y/QstC70LXQvdC40Y9cclxuXHJcbmNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2FsZXJ0JyksXHJcbiAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcclxuXHJcblxyXG5mdW5jdGlvbiBhbGVydFN0YXJ0KCkge1xyXG5cclxuICBhbGVydC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFsZXJ0X3N0YXJ0XCIpO1xyXG4gIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuXHJcbn1cclxuXHJcbmxldCBoZWFkZXJCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFjaycpO1xyXG5cclxuZnVuY3Rpb24gaGVhZGVyU3RpY2t5KCkge1xyXG5cclxuICBmdW5jdGlvbiByMSgpIHtcclxuICAgIGhlYWRlckJhY2suc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhY3RoZWFkXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0VGltZW91dChyMSwgMTAwKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGVIZXJvKCkge1xyXG5cclxuICBsZXQgbTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDEnKSxcclxuICAgIG0yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX21vZHVsZTAyJyksXHJcbiAgICBtMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwMycpLFxyXG4gICAgbTQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDQnKSxcclxuICAgIGJpZ09iZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19iaWdvYmonKSxcclxuICAgIGZvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19mb2cnKSxcclxuICAgIGJsdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fYmx1cicpO1xyXG4gIG0xLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDFcIik7XHJcbiAgbTIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb2R1bGUwMlwiKTtcclxuICBtMy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1vZHVsZTAzXCIpO1xyXG4gIG00LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDRcIik7XHJcbiAgYmlnT2JnLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmlnZGV2aWNlXCIpO1xyXG4gIGZvZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImZvZ1wiKTtcclxuICBibHVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmx1clwiKTtcclxuICAvL3NldFRpbWVvdXQoYWxlcnRTdGFydCwgMjAwMCk7XHJcbn1cclxuXHJcbi8vINC30LDQutGA0YvRgtC40LUg0L7QutC90LAg0L/RgNC+INC60YPQutC4XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFsZXJ0RmluaXNoKTtcclxuXHJcbmZ1bmN0aW9uIGFsZXJ0RmluaXNoKGV2KSB7XHJcblxyXG4gIGNvbnN0IGFyZWEgPSBldi50YXJnZXQuY2xvc2VzdChcIiNzdWJcIik7XHJcbiAgY29uc3QgYXJlYTIgPSBldi50YXJnZXQuY2xvc2VzdChcIiN1bnN1YlwiKTtcclxuXHJcbiAgaWYgKChhcmVhKSB8fCAoYXJlYTIpKSB7XHJcblxyXG4gICAgYWxlcnQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJhbGVydF9zdGFydFwiKTtcclxuICAgIGFuaW1hdGVIZXJvKCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhbGVydFN0YXJ0KTtcclxuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICAgIGhlYWRlclN0aWNreSgpO1xyXG4gIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYWxlcnRTdGFydCk7XHJcblxyXG5cclxuLy/QstGL0LHQvtGAINGP0LfRi9C60LBcclxuXHJcbmxldCBsYW5nd1JhbmRvbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19jaG9zZS1sYW5nJyksXHJcbiAgcmFuZG9tZVBvdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX3JhbmRvbWUnKSxcclxuICBsYW5nd1RleHQgPSBsYW5nd1JhbmRvbWUuZmlyc3RFbGVtZW50Q2hpbGQsXHJcbiAgY291bnRlciA9IDA7XHJcblxyXG5sYW5nd1JhbmRvbWUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaW5uKTtcclxubGFuZ3dSYW5kb21lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5uKTtcclxuXHJcbmZ1bmN0aW9uIGlubigpIHtcclxuICByYW5kb21lUG90LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibGlzdC1zdGFydFwiKTtcclxufVxyXG5cclxucmFuZG9tZVBvdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcclxuICByYW5kb21lUG90LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwibGlzdC1zdGFydFwiKTtcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC90LUg0YDQsNCx0L7RgtCw0LXRgiwg0LXRgdC70Lgg0L3QtSDQv9C+0LLQtdGB0LjRgtGMIG9uY2xpY2sg0L3QsCDQutCw0LbQtNGD0Y4g0LrQvdC+0L/QutGDINCyINGB0L/QuNGB0LrQtSAo0L3QtSDRh9C10YDQtdC3IGFkZGV2bGlzLCDQsCDRh9C10YDQtdC3INGC0LXQsyBvbmNsaWNrKVxyXG5mdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xyXG4gIGxldCBlbCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgaWYgKGVsKSB7XHJcblxyXG4gICAgbGV0IGEgPSBlbC50ZXh0Q29udGVudCxcclxuICAgICAgYiA9IGxhbmd3VGV4dC50ZXh0Q29udGVudDtcclxuXHJcbiAgICBsZXQgdG1wID0gYTtcclxuICAgIGEgPSBiO1xyXG4gICAgYiA9IHRtcDtcclxuICAgIGxhbmd3VGV4dC50ZXh0Q29udGVudCA9IGI7XHJcbiAgICBlbC50ZXh0Q29udGVudCA9IGE7XHJcblxyXG4gICAgZnVuY3Rpb24gZ29vZGJ5KCkge1xyXG5cclxuICAgICAgcmFuZG9tZVBvdC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImxpc3Qtc3RhcnRcIik7XHJcblxyXG4gICAgfVxyXG4gICAgc2V0VGltZW91dChnb29kYnksIDIwMCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vYWNjb3JkZW9uXHJcblxyXG5sZXQgYWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uc19fcGFydDInKSxcclxuICB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX19ibG9jaycpLFxyXG4gIGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX3RvZm9ybScpLFxyXG4gIGFycm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX3RvZm9ybScpLFxyXG4gIGNvdW50O1xyXG5cclxuZnVuY3Rpb24gY2xpY2sxKGUpIHtcclxuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldC5jbG9zZXN0KCcucXVlc3Rpb25zX19ibG9jaycpO1xyXG4gIGlmICh0YXJnZXQpIHtcclxuXHJcbiAgICB0YWIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cclxuICAgICAgbGV0IGNoaWxkID0gaXRlbS5maXJzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkO1xyXG5cclxuICAgICAgaWYgKGl0ZW0gPT09IHRhcmdldCkge1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXJrJykpIHtcclxuXHJcbiAgICAgICAgICBpZiAoY291bnQgPT0gMSkge1xyXG5cclxuICAgICAgICAgICAgY2hpbGQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLWluXCIpO1xyXG4gICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0tb3V0XCIpO1xyXG4gICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwZGVnKScgKyAndHJhbnNsYXRlKDAsIC01MCUpJztcclxuICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICAgICAgICBjb3VudCsrXHJcblxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA9PSAyKSB7XHJcblxyXG4gICAgICAgICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0tb3V0XCIpO1xyXG4gICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0taW5cIik7XHJcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDE4MGRlZyknICsgJ3RyYW5zbGF0ZSgwLCAwKSc7XHJcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPSAnMzBweCc7XHJcbiAgICAgICAgICAgIGNvdW50LS1cclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImJsb2NrLWFjdC0taW5cIik7XHJcbiAgICAgICAgICBjb3VudCA9IDA7XHJcbiAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdtYXJrJyk7XHJcbiAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgxODBkZWcpJyArICd0cmFuc2xhdGUoMCwgMCknO1xyXG4gICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRvcCA9ICczMHB4JztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfTtcclxufTtcclxuYWNjb3JkZW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICBjbGljazEoZSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8v0J/RgNC+0LjQs9GA0YvQstCw0YLQtdC70YxcclxuXHJcblxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIjtcclxuICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XHJcbiAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XHJcblxyXG4gIHZhciBwbGF5ZXI7XHJcblxyXG4gIGxldCB5dENyb3NzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Zjcm9zczEnKSxcclxuICAgIGJhY2tncm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmZyYW1lMScpLFxyXG4gICAgeXRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdmVyJyksXHJcbiAgICBtYXJrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvX19saW5rJyksXHJcbiAgICBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxuICBtYXJrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGJhY2tncm8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB5dEJhY2suY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCdwbGF5ZXInLCB7XHJcbiAgICAgIGhlaWdodDogJzEwODAnLFxyXG4gICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICB2aWRlb0lkOiBtYXJrLmRhdGFzZXQudmlkZW8sLy/QuNC3INCw0YLRgNC40LHRg9GC0LAgZGF0YS12aWRlbyDQutC90L7Qv9C60LhcclxuICAgICAgcGxheWVyVmFyczogeyAnYXV0b3BsYXknOiAxLCAnY29udHJvbHMnOiAxIH0sXHJcbiAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcclxuICAgICAgICAnb25TdGF0ZUNoYW5nZSc6IG9uUGxheWVyU3RhdGVDaGFuZ2VcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb25QbGF5ZXJSZWFkeShldmVudCkge1xyXG4gICAgICBldmVudC50YXJnZXQuc2V0Vm9sdW1lKDMwKTtcclxuICAgICAgZXZlbnQudGFyZ2V0LnBsYXlWaWRlbygpO1xyXG4gICAgICBldmVudC50YXJnZXQuc2V0UGxheWJhY2tRdWFsaXR5KCdoaWdocmVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25QbGF5ZXJTdGF0ZUNoYW5nZShldmVudCkge1xyXG4gICAgICBpZiAoZXZlbnQuZGF0YSA9PSBZVC5QbGF5ZXJTdGF0ZS5CVUZGRVJJTkcpIHtcclxuICAgICAgICBldmVudC50YXJnZXQuc2V0UGxheWJhY2tRdWFsaXR5KCdoaWdocmVzJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICBsZXQgeXRiZ0FyciA9IFt5dEJhY2ssIHl0Q3Jvc3NdO1xyXG4gIHl0YmdBcnIuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICBiYWNrZ3JvLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICB5dEJhY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICAgICAgcGxheWVyLmRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbi8vLSBzd2lwZXJcclxuXHJcbmNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXInLCB7XHJcbiAgLy8g0J3QsNGB0YLRgNC+0LnQutC4IFN3aXBlclxyXG4gIGxvb3A6IHRydWUsIC8vINCR0LXRgdC60L7QvdC10YfQvdCw0Y8g0L/RgNC+0LrRgNGD0YLQutCwXHJcbiAgcGFnaW5hdGlvbjoge1xyXG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxyXG4gICAgY2xpY2thYmxlOiB0cnVlLCAvLyDQlNC10LvQsNC10YIg0L/QsNCz0LjQvdCw0YbQuNGOINC60LvQuNC60LDQsdC10LvRjNC90L7QuVxyXG4gIH0sXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiAnLnNsaWRlcl9fYnRuLW5leHQnLFxyXG4gICAgcHJldkVsOiAnLnNsaWRlcl9fYnRuLXByZXYnLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuXHJcblxyXG4vL9Cf0LvQsNCy0L3QsNGPINC/0YDQvtC60YDRg9GC0LrQsCDQtNC+INGB0YHRi9C70L7QulxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBUZXN0RHJpdmVGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdGRyaXZlJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlY2lzaW9uc0ZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWNpc2lvbnMnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbGVhcm5pbmdGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhcm5pbmcnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gdHJ1c3RGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3QnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gcXVlc3Rpb25zRm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9ucycpLnNjcm9sbEludG9WaWV3KHtcclxuICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBtb3JlRm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZG93bi0yJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vINCx0YPRgNCz0LXRgCAtINC80LXQvdGOXHJcblxyXG5sZXQgYnVyZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLFxyXG4gIGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlci1idG4nKSxcclxuICBidXJnZXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Nyb3NzJyksXHJcbiAgaGVhZGVyQ292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19jb3ZlcicpLCAvL9C30LDRgtC10LzQvdC10L3QuNC1INC90LAg0YTQvtC90LVcclxuICBidXJnZXJMaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJfbGlua3MnKSxcclxuICB1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fZm9ybVwiKSwvL9Cy0LXRgNGF0L3Rj9GPINGE0L7RgNC80LBcclxuICBidXJnZXJHZXRpbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZm9ybS1idG4nKTtcclxuXHJcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblxyXG4gIGlmIChidXJnZXJNZW51LmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyX19idXJnZXItLW91dCcpKSB7XHJcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1vdXQnKTtcclxuICB9O1xyXG4gIGJ1cmdlck1lbnUuY2xhc3NMaXN0LmFkZCgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG5cclxuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5vbkZvcm1DbGljayk7XHJcblxyXG4gIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcclxufSk7XHJcblxyXG5cclxuXHJcbi8vINCb0L7Qs9C40LrQsCDQv9C+0YHQu9C1INC+0YLQutGA0YvRgtC40Y8g0LHRg9GA0LPQtdGAIC0g0LzQtdC90Y4sINC10YHQu9C4INGF0L7RgtGP0YIg0LfQsNC60YDRi9GC0Ywg0LXQs9C+XHJcblxyXG5sZXQgY2xvc2VCdXJnZXIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcbiAgLy8gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgbGV0IG1CdXJnZXIgPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlck1lbnUpO1xyXG4gIGxldCBmb3JtQnRuQ2xpY2tlZCA9IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyR2V0aW5mbyk7XHJcbiAgbGV0IG5vRmllbGQgPSBmYWxzZTtcclxuICBsZXQgRmllbGRGb3JtID0gZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyh1cEZvcm0pO1xyXG4gIGxldCBub0ZpZWxkRm9ybSA9IGZhbHNlO1xyXG5cclxuICAvLyBjb25zdCB3aXRoaW5Cb3VuZGFyaWVzID0gZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhkaXYpO1xyXG5cclxuICBpZiAoZm9ybUJ0bkNsaWNrZWQpIHtcclxuXHJcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1pbicpO1xyXG4gICAgdXBGb3JtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICB9XHJcblxyXG4gIGlmICghbUJ1cmdlcikge1xyXG4gICAgbm9GaWVsZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBsZXQgcHVBcnIgPSBbXHJcblxyXG4gICAgZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhidXJnZXJDbG9zZUJ0biksXHJcbiAgICBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlckxpbmtzKVxyXG5cclxuICBdO1xyXG5cclxuICBwdUFyci5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgaWYgKGl0ZW0pIHsgY2xvc2VCdXJnZXIoKTsgfVxyXG4gIH0pXHJcblxyXG5cclxuICBpZiAobm9GaWVsZCA9PT0gdHJ1ZSkge1xyXG5cclxuICAgIGlmICghRmllbGRGb3JtKSB7XHJcbiAgICAgIG5vRmllbGRGb3JtID0gdHJ1ZTtcclxuICAgICAgdXBGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIGNsb3NlQnVyZ2VyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy8g0YTQvtGA0LzQsCDQvtGC0L/RgNCw0LLQutC4INC4INCy0LDQu9C40LTQsNGG0LjRj1xyXG5cclxuXHJcbmxldCBmX2Zvcm1TdWNlc3MgPSBmYWxzZTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybScpO1xyXG5cclxuXHJcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcclxuXHJcbiAgICB2YWxpZEZvcm0oKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhmX2Zvcm1TdWNlc3MpO1xyXG5cclxuXHJcbiAgICBpZiAoZl9mb3JtU3VjZXNzID09PSB0cnVlKSB7XHJcblxyXG4gICAgICBjb25zdCBzZW5kRm9ybSA9IChkYXRhKSA9PiB7XHJcblxyXG4gICAgICAgIHJldHVybiBmZXRjaCgnZmluaXNoLnBocCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YUZvcm0gPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgY29uc3QgdXNlciA9IHt9O1xyXG5cclxuICAgICAgZGF0YUZvcm0uZm9yRWFjaCgodmFsLCBrZXkpID0+IHtcclxuICAgICAgICB1c2VyW2tleV0gPSB2YWw7XHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmRGb3JtKHVzZXIpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Cf0LjRgdGM0LzQviDRg9GI0LvQvicpOyAvL9C30LTQtdGB0Ywg0LLRgdGC0LDQstC70Y/RgtGMINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINGD0YHQv9C10YjQvdC+0Lkg0L7RgtGB0YvQu9C60LVcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGV2ZW50LnRhcmdldC5yZXNldCgpOyAvL9C+0LHQvdGD0LvRj9C10YIg0YTQvtGA0LzRg1xyXG5cclxuICAgICAgZl9mb3JtU3VjZXNzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxubGV0IHRlbFNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJyksXHJcbiAgbmFtZVNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKSxcclxuICBxdWVzdGlvblNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uJyk7XHJcblxyXG5jb25zdCB0ZWxWYWxpZCA9IG5ldyBJbnB1dG1hc2soe1xyXG4gIG1hc2s6IFwiKyp7MSwyMH1cIixcclxuICBncmVlZHk6IGZhbHNlLFxyXG4gIGRlZmluaXRpb25zOiB7XHJcbiAgICAnKic6IHtcclxuICAgICAgdmFsaWRhdG9yOiBcIlswLTlcXHUwMDI4XFx1MDAyOVxcdTAwMmRdXCIsLy/QstCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0L/Rg9GB0LrQsNC10YIg0YLQvtC70YzQutC+INGH0LjRgdC70LAg0L7RgiAwINC00L4gOSwg0LTQtdGE0LjRgSDQuCDRgdC60L7QsdC60LhcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudGVsVmFsaWQubWFzayh0ZWxTZWxlY3Rvcik7IC8v0L/RgNC40LzQtdC90Y/QtdC8INGB0YTQvtGA0LzQuNGA0L7QstCw0L3QvdGD0Y4g0LzQsNGB0LrRgyDQtNC70Y8g0YPQutCw0LfQsNC90L3QvtCz0L4g0LjQvdC/0YPRgtCwIGVtYWlsU2VsZWN0b3JcclxuXHJcblxyXG5sZXQgdmFsaWRGb3JtID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgbGV0IGxvbmcgPSB0ZWxTZWxlY3Rvci52YWx1ZSxcclxuICAgIGxvbmcyID0gbmFtZVNlbGVjdG9yLnZhbHVlLFxyXG4gICAgbG9uZzMgPSBxdWVzdGlvblNlbGVjdG9yLnZhbHVlO1xyXG4gIGxldCBsb25nTnVtID0gbG9uZy5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7IC8v0YPQtNCw0LvRj9C10Lwg0LjQtyDRgdGC0YDQvtC60Lgg0LLRgdGRLCDQutGA0L7QvNC1INGG0LjRhNGAICAvLyDQvtGI0LjQsdC60LAg0LjQty3Qt9CwINGN0YLQvtCz0L5cclxuXHJcbiAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdyZWUnKS5jaGVja2VkKSkge1xyXG5cclxuICAgIGlmICgoKGxvbmdOdW0ubGVuZ3RoID4gMikgJiYgKGxvbmdOdW0ubGVuZ3RoIDwgNTApKSAmJiAoKGxvbmcyLmxlbmd0aCA+IDEpICYmIChsb25nMi5sZW5ndGggPCAzNikpICYmICgobG9uZzMubGVuZ3RoID4gMikgJiYgKGxvbmczLmxlbmd0aCA8IDE1MDEpKSkge1xyXG5cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmNvbG9yID0gXCIjNDlmZjBjXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCh0L/QsNGB0LjQsdC+LCDQvNGLINGB0LLRj9C20LXQvNGB0Y8g0YEg0JLQsNC80LghXCI7XHJcblxyXG4gICAgICBmdW5jdGlvbiBmb3JtU3VjZXNzKCkge1xyXG5cclxuICAgICAgICBjbG9zZUJ1cmdlcigpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgIH1cclxuICAgICAgc2V0VGltZW91dChmb3JtU3VjZXNzLCAyMDAwKTtcclxuXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0L/RgNC+0YbQtdGB0YEg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLJylcclxuXHJcblxyXG4gICAgICBmdW5jdGlvbiBnb29kYnkoKSB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KGdvb2RieSwgMjAwMCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0LLQsNC70LjQtNCw0YbQuNGPINC/0YDQvtGI0LvQsCDRg9GB0L/QtdGI0L3QvicpO1xyXG5cclxuICAgICAgZl9mb3JtU3VjZXNzID0gdHJ1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ9GE0L7RgNC80LAg0L3QtSDQv9GA0L7RiNC70LAg0L/QviDQstCw0LvQuNC00LDRhtC40LgnKTtcclxuXHJcblxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YvQtSDQtNCw0L3QvdGL0LVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfRhNC+0YDQvNCwINC90LUg0L/RgNC+0YjQu9CwINC/0L4g0LLQsNC70LjQtNCw0YbQuNC4Jyk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS50ZXh0Q29udGVudCA9IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAg0LTQsNC50YLQtSDRgdCy0L7QtSDRgdC+0LPQu9Cw0YHQuNC1INC90LAg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyDRhNC+0YDQvNCwINC+0YLQv9GA0LDQstC60Lgg0Lgg0LLQsNC70LjQtNCw0YbQuNGPXHJcblxyXG5cclxubGV0IGZfZm9ybVN1Y2VzczIgPSBmYWxzZTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IGZvcm0yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZG93bicpO1xyXG5cclxuXHJcbiAgZm9ybTIuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnc3VibWl0Jyk7XHJcblxyXG4gICAgdmFsaWRGb3JtMigpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGZfZm9ybVN1Y2VzczIpO1xyXG5cclxuXHJcbiAgICBpZiAoZl9mb3JtU3VjZXNzMiA9PT0gdHJ1ZSkge1xyXG5cclxuICAgICAgY29uc3Qgc2VuZEZvcm0yID0gKGRhdGEpID0+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKCdmaW5pc2gyLnBocCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YUZvcm0gPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgY29uc3QgdXNlciA9IHt9O1xyXG5cclxuICAgICAgZGF0YUZvcm0uZm9yRWFjaCgodmFsLCBrZXkpID0+IHtcclxuICAgICAgICB1c2VyW2tleV0gPSB2YWw7XHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbmRGb3JtMih1c2VyKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfQn9C40YHRjNC80L4g0YPRiNC70L4nKTsgLy/Qt9C00LXRgdGMINCy0YHRgtCw0LLQu9GP0YLRjCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDRg9GB0L/QtdGI0L3QvtC5INC+0YLRgdGL0LvQutC1XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBldmVudC50YXJnZXQucmVzZXQoKTsgLy/QvtCx0L3Rg9C70Y/QtdGCINGE0L7RgNC80YNcclxuXHJcbiAgICAgIGZfZm9ybVN1Y2VzczIgPSBmYWxzZTtcclxuICAgIH1cclxuICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5sZXQgdGVsU2VsZWN0b3IyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lLWYnKSxcclxuICBuYW1lU2VsZWN0b3IyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUtZicpLFxyXG4gIHF1ZXN0aW9uU2VsZWN0b3IyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLWYnKTtcclxuXHJcbmNvbnN0IHRlbFZhbGlkMiA9IG5ldyBJbnB1dG1hc2soe1xyXG4gIG1hc2s6IFwiKyp7MSwyMH1cIixcclxuICBncmVlZHk6IGZhbHNlLFxyXG4gIGRlZmluaXRpb25zOiB7XHJcbiAgICAnKic6IHtcclxuICAgICAgdmFsaWRhdG9yOiBcIlswLTlcXHUwMDI4XFx1MDAyOVxcdTAwMmRdXCIsLy/QstCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0L/Rg9GB0LrQsNC10YIg0YLQvtC70YzQutC+INGH0LjRgdC70LAg0L7RgiAwINC00L4gOSwg0LTQtdGE0LjRgSDQuCDRgdC60L7QsdC60LhcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudGVsVmFsaWQyLm1hc2sodGVsU2VsZWN0b3IyKTsgLy/Qv9GA0LjQvNC10L3Rj9C10Lwg0YHRhNC+0YDQvNC40YDQvtCy0LDQvdC90YPRjiDQvNCw0YHQutGDINC00LvRjyDRg9C60LDQt9Cw0L3QvdC+0LPQviDQuNC90L/Rg9GC0LAgZW1haWxTZWxlY3RvclxyXG5cclxuXHJcbmxldCB2YWxpZEZvcm0yID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgbGV0IGxvbmc0ID0gdGVsU2VsZWN0b3IyLnZhbHVlLFxyXG4gICAgbG9uZzUgPSBuYW1lU2VsZWN0b3IyLnZhbHVlLFxyXG4gICAgbG9uZzYgPSBxdWVzdGlvblNlbGVjdG9yMi52YWx1ZTtcclxuICBsZXQgbG9uZ051bTIgPSBsb25nNC5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7IC8v0YPQtNCw0LvRj9C10Lwg0LjQtyDRgdGC0YDQvtC60Lgg0LLRgdGRLCDQutGA0L7QvNC1INGG0LjRhNGAICAvLyDQvtGI0LjQsdC60LAg0LjQty3Qt9CwINGN0YLQvtCz0L5cclxuXHJcbiAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdyZWUtZicpLmNoZWNrZWQpKSB7XHJcblxyXG4gICAgaWYgKCgobG9uZ051bTIubGVuZ3RoID4gMikgJiYgKGxvbmdOdW0yLmxlbmd0aCA8IDUwKSkgJiYgKChsb25nNS5sZW5ndGggPiAxKSAmJiAobG9uZzUubGVuZ3RoIDwgMzYpKSAmJiAoKGxvbmc2Lmxlbmd0aCA+IDIpICYmIChsb25nNi5sZW5ndGggPCAxNTAxKSkpIHtcclxuXHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuY29sb3IgPSBcIiM0OWZmMGNcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQodC/0LDRgdC40LHQviwg0LzRiyDRgdCy0Y/QttC10LzRgdGPINGBINCS0LDQvNC4IVwiO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZm9ybVN1Y2VzczIoKSB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICB9XHJcbiAgICAgIHNldFRpbWVvdXQoZm9ybVN1Y2VzczIsIDIwMDApO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ9Cy0LDQu9C40LTQsNGG0LjRjyDQv9GA0L7RiNC70LAg0YPRgdC/0LXRiNC90L4nKTtcclxuXHJcbiAgICAgIGZfZm9ybVN1Y2VzczIgPSB0cnVlO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0YTQvtGA0LzQsCDQvdC1INC/0YDQvtGI0LvQsCDQv9C+INCy0LDQu9C40LTQsNGG0LjQuCcpO1xyXG5cclxuXHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS50ZXh0Q29udGVudCA9IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAg0LLQstC10LTQuNGC0LUg0L/RgNCw0LLQuNC70YzQvdGL0LUg0LTQsNC90L3Ri9C1XCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfRhNC+0YDQvNCwINC90LUg0L/RgNC+0YjQu9CwINC/0L4g0LLQsNC70LjQtNCw0YbQuNC4Jyk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQtNCw0LnRgtC1INGB0LLQvtC1INGB0L7Qs9C70LDRgdC40LUg0L3QsCDQvtCx0YDQsNCx0L7RgtC60YMg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=