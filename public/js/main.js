var alert=document.querySelector(".hero__alert"),body=document.body||document.getElementsByTagName("body")[0];function alertStart(){alert.setAttribute("id","alert_start"),body.style.overflow="hidden"}function animateHero(){var e=document.querySelector(".hero__module01"),t=document.querySelector(".hero__module02"),n=document.querySelector(".hero__module03"),o=document.querySelector(".hero__module04"),r=document.querySelector(".hero__bigobj"),l=document.querySelector(".hero__fog"),c=document.querySelector(".hero__blur");e.setAttribute("id","module01"),t.setAttribute("id","module02"),n.setAttribute("id","module03"),o.setAttribute("id","module04"),r.setAttribute("id","bigdevice"),l.setAttribute("id","fog"),c.setAttribute("id","blur")}function alertFinish(e){var t=e.target.closest("#sub"),e=e.target.closest("#unsub");(t||e)&&(alert.removeAttribute("id","alert_start"),animateHero(),document.removeEventListener("scroll",alertStart),body.style.overflow="scroll")}document.addEventListener("click",alertFinish),document.addEventListener("scroll",alertStart);var langwRandome=document.querySelector(".header__chose-lang"),randomePot=document.querySelector(".header__randome"),langwText=langwRandome.firstElementChild,counter=0;function inn(){randomePot.setAttribute("id","list-start")}function listener(e){var t,n,e=e.target;e&&(t=n=e.textContent,n=langwText.textContent,langwText.textContent=t,e.textContent=n,setTimeout(function(){randomePot.removeAttribute("id","list-start")},200))}langwRandome.addEventListener("mouseover",inn),langwRandome.addEventListener("click",inn),randomePot.addEventListener("mouseout",function(){randomePot.removeAttribute("id","list-start")});var count,accordeon=document.querySelector(".questions__part2"),tab=document.querySelectorAll(".questions__block"),button=document.querySelectorAll(".questions__toform"),arrows=document.querySelectorAll(".questions__toform");function click1(e){var n=e.target.closest(".questions__block");n&&tab.forEach(function(e){var t=e.firstElementChild.lastElementChild;e===n&&(e.classList.contains("mark")?1==count?(t.removeAttribute("id","block-act--in"),t.setAttribute("id","block-act--out"),e.lastElementChild.style.transform="rotate(0deg)translate(0, -50%)",e.lastElementChild.style.top="50%",count++):2==count&&(t.removeAttribute("id","block-act--out"),t.setAttribute("id","block-act--in"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px",count--):(t.setAttribute("id","block-act--in"),count=0,count++,e.classList.add("mark"),e.lastElementChild.style.transform="rotate(180deg)translate(0, 0)",e.lastElementChild.style.top="30px"))})}accordeon.addEventListener("click",function(e){click1(e)}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.createElement("script"),n=(e.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]),e=(n.parentNode.insertBefore(e,n),document.getElementById("vcross1")),o=document.getElementById("vframe1"),r=document.querySelector(".cover"),l=document.querySelector(".video__link"),c=document.querySelector("body");l.addEventListener("click",function(e){o.classList.add("active"),r.classList.add("active"),c.style.overflow="hidden",t=new YT.Player("player",{height:"1080",width:"100%",videoId:l.dataset.video,playerVars:{autoplay:1,controls:1},events:{onReady:function(e){e.target.setVolume(30),e.target.playVideo(),e.target.setPlaybackQuality("highres")},onStateChange:function(e){e.data==YT.PlayerState.BUFFERING&&e.target.setPlaybackQuality("highres")}}})}),[r,e].forEach(function(e){e.addEventListener("click",function(e){o.classList.remove("active"),r.classList.remove("active"),c.style.overflow="scroll",t.destroy()})})});var swiper=new Swiper(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".slider__btn-next",prevEl:".slider__btn-prev"}});function TestDriveFn(){document.getElementById("testdrive").scrollIntoView({block:"start",behavior:"smooth"})}function decisionsFn(){document.getElementById("decisions").scrollIntoView({block:"start",behavior:"smooth"})}function learningFn(){document.getElementById("learning").scrollIntoView({block:"start",behavior:"smooth"})}function trustFn(){document.getElementById("trust").scrollIntoView({block:"start",behavior:"smooth"})}function questionsFn(){document.getElementById("questions").scrollIntoView({block:"start",behavior:"smooth"})}function moreFn(){document.getElementById("form-down").scrollIntoView({block:"start",behavior:"smooth"})}var burgerMenu=document.querySelector(".header__burger"),burgerBtn=document.querySelector(".header__burger-btn"),burgerCloseBtn=document.querySelector(".header__cross"),headerCover=document.querySelector(".header__cover"),burgerLinks=document.getElementById("header_links"),upForm=document.querySelector(".header__form"),burgerGetinfo=document.querySelector(".header__form-btn"),closeBurger=(burgerBtn.addEventListener("click",function(e){burgerMenu.classList.contains("header__burger--out")&&burgerMenu.classList.remove("header__burger--out"),burgerMenu.classList.add("header__burger--in"),headerCover.style.display="block",body.style.overflow="hidden",e.stopImmediatePropagation()}),function(){burgerMenu.classList.remove("header__burger--in"),headerCover.style.display="none",body.style.overflow="scroll"}),FormBtn=(document.addEventListener("click",function(e){var t=e.composedPath().includes(burgerMenu),n=e.composedPath().includes(burgerGetinfo),o=!1,r=e.composedPath().includes(upForm);n&&(burgerMenu.classList.remove("header__burger--in"),upForm.style.display="block"),t||(o=!0),[e.composedPath().includes(burgerCloseBtn),e.composedPath().includes(burgerLinks)].forEach(function(e){e&&closeBurger()}),!0!==o||r||(upForm.style.display="none",closeBurger())}),document.querySelectorAll(".form__btn")),f_formSucess=!1,telSelector=document.getElementById("phone"),nameSelector=document.getElementById("name"),questionSelector=document.getElementById("question"),telSelectorDown=document.getElementById("phone-f"),nameSelectorDown=document.getElementById("name-f"),questionSelectorDown=document.getElementById("question-f"),telValid=new Inputmask({mask:"+*{1,20}",greedy:!1,definitions:{"*":{validator:"[0-9()-]"}}}),validForm=(telValid.mask(telSelector),function(){var e=telSelector.value,t=nameSelector.value,n=questionSelector.value,e=(long4=telSelectorDown.value,long5=nameSelectorDown.value,long6=questionSelectorDown.value,e.replace(/[^0-9]/g,"")),o=long4.replace(/[^0-9]/g,"");document.getElementById("agree").checked||document.getElementById("agree-f").checked?2<e.length&&e.length<50&&1<t.length&&t.length<36&&2<n.length&&n.length<1501||2<o.length&&o.length<50&&1<long5.length&&long5.length<36&&2<long6.length&&long6.length<1501?(document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block",document.getElementById("warning").style.color="#49ff0c",document.getElementById("warning-f").style.color="#49ff0c",document.getElementById("warning").textContent="Спасибо, мы свяжемся с Вами!",document.getElementById("warning-f").textContent="Спасибо, мы свяжемся с Вами!",setTimeout(function(){document.getElementById("warning").style.display="none",document.getElementById("warning-f").style.display="none"},2e3),setTimeout(function(){document.querySelector(".header__form").style.display="none",headerCover.style.display="none",body.style.overflow="scroll"},2e3),console.log("валидация прошла успешно"),f_formSucess=!0):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста введите правильные данные",document.getElementById("warning-f").textContent="Пожалуйста введите правильные данные",document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block"):(console.log("форма не прошла по валидации"),document.getElementById("warning").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning-f").textContent="Пожалуйста дайте свое согласие на обработку персональных данных",document.getElementById("warning").style.display="block",document.getElementById("warning-f").style.display="block")}),form=(document.addEventListener("click",function(e){e.target.closest(".form__btn")&&(closeBurger(),validForm())}),document.getElementById("#form")),sendFormTo=function(e){return fetch("../finish.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()})},submitForm=function(e){var n;e.preventDefault(),console.log("submit"),!0===f_formSucess&&(e=new FormData(form),n={},e.forEach(function(e,t){n[t]=e}),sendFormTo(n).then(function(e){console.log("Письмо отправлено успешно"),form.reset(),f_formSucess=!1}))};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWxlcnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhbGVydFN0YXJ0Iiwic3R5bGUiLCJvdmVyZmxvdyIsImJpZ09iZyIsImZvZyIsImJsdXIiLCJtNCIsInNldEF0dHJpYnV0ZSIsImFuaW1hdGVIZXJvIiwiZXYiLCJhcmVhIiwiY2xvc2VzdCIsImFyZWEyIiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUF0dHJpYnV0ZSIsImxhbmd3UmFuZG9tZSIsInJhbmRvbWVQb3QiLCJhbGVydEZpbmlzaCIsImxhbmd3VGV4dCIsImZpcnN0RWxlbWVudENoaWxkIiwiY291bnRlciIsImxpc3RlbmVyIiwiZXZlbnQiLCJhIiwiZWwiLCJ0ZXh0Q29udGVudCIsImNoaWxkIiwiZm9yRWFjaCIsInNldFRpbWVvdXQiLCJpbm4iLCJjb3VudCIsImFjY29yZGVvbiIsInRhYiIsImNsYXNzTGlzdCIsImJ1dHRvbiIsIml0ZW0iLCJsYXN0RWxlbWVudENoaWxkIiwiYXJyb3dzIiwiY2xpY2sxIiwiZSIsImNvbnRhaW5zIiwiZmlyc3RTY3JpcHRUYWciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwieXRDcm9zcyIsImdldEVsZW1lbnRCeUlkIiwidHJhbnNmb3JtIiwidG9wIiwiWVQiLCJldmVudHMiLCJhZGQiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwic2V0UGxheWJhY2tRdWFsaXR5IiwieXRCYWNrIiwicmVtb3ZlIiwicGxheWVyIiwiY3JlYXRlRWxlbWVudCIsInRhZyIsInNyYyIsInN3aXBlciIsImJhY2tncm8iLCJsb29wIiwibWFyayIsInBhZ2luYXRpb24iLCJjbGlja2FibGUiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwiUGxheWVyIiwiaGVpZ2h0Iiwid2lkdGgiLCJ2aWRlb0lkIiwiZGF0YXNldCIsInZpZGVvIiwicGxheWVyVmFycyIsImF1dG9wbGF5IiwiY29udHJvbHMiLCJvblJlYWR5Iiwic2V0Vm9sdW1lIiwiZGVjaXNpb25zRm4iLCJvblN0YXRlQ2hhbmdlIiwiYmVoYXZpb3IiLCJkYXRhIiwiUGxheWVyU3RhdGUiLCJCVUZGRVJJTkciLCJibG9jayIsInRydXN0Rm4iLCJkZXN0cm95IiwiU3dpcGVyIiwibW9yZUZuIiwiVGVzdERyaXZlRm4iLCJidXJnZXJCdG4iLCJzY3JvbGxJbnRvVmlldyIsImJ1cmdlck1lbnUiLCJoZWFkZXJDb3ZlciIsImxlYXJuaW5nRm4iLCJjbG9zZUJ1cmdlciIsImZvcm1CdG5DbGlja2VkIiwiY29tcG9zZWRQYXRoIiwiYnVyZ2VyR2V0aW5mbyIsIm5vRmllbGQiLCJGaWVsZEZvcm0iLCJxdWVzdGlvbnNGbiIsInVwRm9ybSIsInB1QXJyIiwiYnVyZ2VyQ2xvc2VCdG4iLCJidXJnZXJMaW5rcyIsIkZvcm1CdG4iLCJkaXNwbGF5Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibmFtZVNlbGVjdG9yRG93biIsIm1CdXJnZXIiLCJpbmNsdWRlcyIsInZhbGlkRm9ybSIsInRlbFNlbGVjdG9yIiwidGVsU2VsZWN0b3JEb3duIiwibG9uZzYiLCJxdWVzdGlvblNlbGVjdG9yRG93biIsImxvbmdOdW0iLCJsb25nIiwiZGVsVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmX2Zvcm1TdWNlc3MiLCJGb3JtRGF0YSIsIm5hbWVTZWxlY3RvciIsInF1ZXN0aW9uU2VsZWN0b3IiLCJ2YWwiLCJ0ZWxWYWxpZCIsIklucHV0bWFzayIsIm1hc2siLCJncmVlZHkiLCJkZWZpbml0aW9ucyIsIioiLCJ2YWxpZGF0b3IiLCJ2YWx1ZSIsImxvbmcyIiwibG9uZzMiLCJsb25nNCIsImxvbmc1IiwicmVwbGFjZSIsImxvbmdOdW0yIiwiY2hlY2tlZCIsImxlbmd0aCIsImNvbG9yIiwiY29uc29sZSIsImxvZyIsImZvcm0iLCJzZW5kRm9ybVRvIiwiZmV0Y2giLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkNvbnRlbnQtdHlwZSIsInRoZW4iLCJyZXMiLCJqc29uIiwic3VibWl0Rm9ybSIsInVzZXIiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFGb3JtIiwia2V5IiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUFBLE1BQUFDLFNBQUFDLGNBQUEsY0FBQSxFQUdFQyxLQUFPRixTQUFTRSxNQUFRRixTQUFTRyxxQkFBcUIsTUFBTSxFQUFFLEdBR2hFLFNBQVNDLGFBR1BGLE1BQUtHLGFBQWMsS0FBRyxhQUFRLEVBRWhDSCxLQUFBRyxNQUFBQyxTQUFBLFFBQUEsQ0FFQSxTQUlTTixjQUZQLElBSUVPLEVBQU1QLFNBQUdBLGNBQVNDLGlCQUE2QixFQUMvQ08sRUFBR1IsU0FBV0MsY0FBYyxpQkFBYyxFQUMxQ1EsRUFBSVQsU0FBR0EsY0FBU0MsaUJBQTRCLEVBQzVDUyxFQUFDQyxTQUFhVixjQUFNLGlCQUFXLEVBQy9CTSxFQUFDSSxTQUFpQlYsY0FBYSxlQUFBLEVBQy9CTyxFQUFDRyxTQUFhVixjQUFNLFlBQVcsRUFDL0JRLEVBQUNFLFNBQWFWLGNBQWdCLGFBQUMsRUFDakNNLEVBQUFBLGFBQU9JLEtBQWEsVUFBTSxFQUMxQkgsRUFBR0csYUFBYSxLQUFLLFVBQVEsRUFDN0JGLEVBQUFBLGFBQUtFLEtBQWlCLFVBQVMsRUFDL0JELEVBQUFDLGFBQUEsS0FBQSxVQUFBLEVBQ0ZKLEVBQUFJLGFBQUEsS0FBQSxXQUFBLEVBSEVILEVBQUlHLGFBQWEsS0FBTSxLQUFLLEVBSzlCRixFQUFBRSxhQUFBLEtBQUEsTUFBQSxDQUVBWCxDQUVBLFNBUUlZLFlBQWFDLEdBTmYsSUFRTUMsRUFBT1IsRUFBQUEsT0FBUVMsUUFBRyxNQUFRLEVBQ2hDQyxFQUFBSCxFQUFBSSxPQUFBRixRQUFBLFFBQUEsR0FHRmYsR0FBU2tCLEtBR1RuQixNQUFBb0IsZ0JBQUEsS0FBQSxhQUFBLEVBVElQLFlBQVksRUFXWlEsU0FBQUEsb0JBQXdCbkIsU0FBY0csVUFBQSxFQUN4Q2lCLEtBQUFBLE1BQWFyQixT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S0FBSyxDQUFDLENBQUEsQ0FDM0IsRUFFSUMsV0FBYSxTQUFVdkksR0FPekIsSUFHUXdJLEVBUlJ4SSxFQUFNeUksZUFBZSxFQUVyQmYsUUFBUUMsSUFBSSxRQUFRLEVBR0MsQ0FBQSxJQUFqQnZCLGVBRUlzQyxFQUFXLElBQUlyQyxTQUFTdUIsSUFBSSxFQUM1QlksRUFBTyxHQUViRSxFQUFTckksUUFBUSxTQUFDbUcsRUFBS21DLEdBQ3JCSCxFQUFLRyxHQUFPbkMsQ0FDZCxDQUFDLEVBRURxQixXQUFXVyxDQUFJLEVBQUVKLEtBQUssU0FBQXhFLEdBQ3BCOEQsUUFBUUMsSUFBSSwyQkFBMkIsRUFFdkNDLEtBQUtnQixNQUFNLEVBRVh4QyxhQUFlLENBQUEsQ0FDakIsQ0FBQyxFQUVMIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIZXJvLXNlY3Rpb24g0JDQvdC40LzQsNGG0LjRjyDQv9C+0Y/QstC70LXQvdC40Y9cclxuXHJcbmNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2FsZXJ0JyksXHJcbiAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcclxuXHJcblxyXG5mdW5jdGlvbiBhbGVydFN0YXJ0KCkge1xyXG5cclxuICBhbGVydC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFsZXJ0X3N0YXJ0XCIpO1xyXG4gIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGVIZXJvKCkge1xyXG5cclxuICBsZXQgbTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDEnKSxcclxuICAgIG0yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX21vZHVsZTAyJyksXHJcbiAgICBtMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19tb2R1bGUwMycpLFxyXG4gICAgbTQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fbW9kdWxlMDQnKSxcclxuICAgIGJpZ09iZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19iaWdvYmonKSxcclxuICAgIGZvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19mb2cnKSxcclxuICAgIGJsdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fYmx1cicpO1xyXG4gIG0xLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDFcIik7XHJcbiAgbTIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb2R1bGUwMlwiKTtcclxuICBtMy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1vZHVsZTAzXCIpO1xyXG4gIG00LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9kdWxlMDRcIik7XHJcbiAgYmlnT2JnLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmlnZGV2aWNlXCIpO1xyXG4gIGZvZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImZvZ1wiKTtcclxuICBibHVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYmx1clwiKTtcclxuICAvL3NldFRpbWVvdXQoYWxlcnRTdGFydCwgMjAwMCk7XHJcbn1cclxuXHJcbi8vINC30LDQutGA0YvRgtC40LUg0L7QutC90LAg0L/RgNC+INC60YPQutC4XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFsZXJ0RmluaXNoKTtcclxuXHJcbmZ1bmN0aW9uIGFsZXJ0RmluaXNoKGV2KSB7XHJcblxyXG4gIGNvbnN0IGFyZWEgPSBldi50YXJnZXQuY2xvc2VzdChcIiNzdWJcIik7XHJcbiAgY29uc3QgYXJlYTIgPSBldi50YXJnZXQuY2xvc2VzdChcIiN1bnN1YlwiKTtcclxuXHJcbiAgaWYgKChhcmVhKSB8fCAoYXJlYTIpKSB7XHJcblxyXG4gICAgYWxlcnQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJhbGVydF9zdGFydFwiKTtcclxuICAgIGFuaW1hdGVIZXJvKCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhbGVydFN0YXJ0KTtcclxuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICB9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFsZXJ0U3RhcnQpO1xyXG5cclxuXHJcbi8v0LLRi9Cx0L7RgCDRj9C30YvQutCwXHJcblxyXG5sZXQgbGFuZ3dSYW5kb21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY2hvc2UtbGFuZycpLFxyXG4gIHJhbmRvbWVQb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19yYW5kb21lJyksXHJcbiAgbGFuZ3dUZXh0ID0gbGFuZ3dSYW5kb21lLmZpcnN0RWxlbWVudENoaWxkLFxyXG4gIGNvdW50ZXIgPSAwO1xyXG5cclxubGFuZ3dSYW5kb21lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGlubik7XHJcbmxhbmd3UmFuZG9tZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGlubik7XHJcblxyXG5mdW5jdGlvbiBpbm4oKSB7XHJcbiAgcmFuZG9tZVBvdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImxpc3Qtc3RhcnRcIik7XHJcbn1cclxuXHJcbnJhbmRvbWVQb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XHJcbiAgcmFuZG9tZVBvdC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCBcImxpc3Qtc3RhcnRcIik7XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQvdC1INGA0LDQsdC+0YLQsNC10YIsINC10YHQu9C4INC90LUg0L/QvtCy0LXRgdC40YLRjCBvbmNsaWNrINC90LAg0LrQsNC20LTRg9GOINC60L3QvtC/0LrRgyDQsiDRgdC/0LjRgdC60LUgKNC90LUg0YfQtdGA0LXQtyBhZGRldmxpcywg0LAg0YfQtdGA0LXQtyDRgtC10LMgb25jbGljaylcclxuZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcclxuICBsZXQgZWwgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gIGlmIChlbCkge1xyXG5cclxuICAgIGxldCBhID0gZWwudGV4dENvbnRlbnQsXHJcbiAgICAgIGIgPSBsYW5nd1RleHQudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgbGV0IHRtcCA9IGE7XHJcbiAgICBhID0gYjtcclxuICAgIGIgPSB0bXA7XHJcbiAgICBsYW5nd1RleHQudGV4dENvbnRlbnQgPSBiO1xyXG4gICAgZWwudGV4dENvbnRlbnQgPSBhO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdvb2RieSgpIHtcclxuXHJcbiAgICAgIHJhbmRvbWVQb3QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJsaXN0LXN0YXJ0XCIpO1xyXG5cclxuICAgIH1cclxuICAgIHNldFRpbWVvdXQoZ29vZGJ5LCAyMDApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL2FjY29yZGVvblxyXG5cclxubGV0IGFjY29yZGVvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbnNfX3BhcnQyJyksXHJcbiAgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fYmxvY2snKSxcclxuICBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX190b2Zvcm0nKSxcclxuICBhcnJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX190b2Zvcm0nKSxcclxuICBjb3VudDtcclxuXHJcbmZ1bmN0aW9uIGNsaWNrMShlKSB7XHJcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCgnLnF1ZXN0aW9uc19fYmxvY2snKTtcclxuICBpZiAodGFyZ2V0KSB7XHJcblxyXG4gICAgdGFiLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHJcbiAgICAgIGxldCBjaGlsZCA9IGl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQubGFzdEVsZW1lbnRDaGlsZDtcclxuXHJcbiAgICAgIGlmIChpdGVtID09PSB0YXJnZXQpIHtcclxuXHJcblxyXG4gICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnbWFyaycpKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGNvdW50ID09IDEpIHtcclxuXHJcbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsIFwiYmxvY2stYWN0LS1pblwiKTtcclxuICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLW91dFwiKTtcclxuICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMGRlZyknICsgJ3RyYW5zbGF0ZSgwLCAtNTAlKSc7XHJcbiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgICAgICAgY291bnQrK1xyXG5cclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT0gMikge1xyXG5cclxuICAgICAgICAgICAgY2hpbGQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLW91dFwiKTtcclxuICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLWluXCIpO1xyXG4gICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgxODBkZWcpJyArICd0cmFuc2xhdGUoMCwgMCknO1xyXG4gICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQuc3R5bGUudG9wID0gJzMwcHgnO1xyXG4gICAgICAgICAgICBjb3VudC0tXHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJibG9jay1hY3QtLWluXCIpO1xyXG4gICAgICAgICAgY291bnQgPSAwO1xyXG4gICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnbWFyaycpO1xyXG4gICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKScgKyAndHJhbnNsYXRlKDAsIDApJztcclxuICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPSAnMzBweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH07XHJcbn07XHJcbmFjY29yZGVvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgY2xpY2sxKGUpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9Cf0YDQvtC40LPRgNGL0LLQsNGC0LXQu9GMXHJcblxyXG5cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XHJcbiAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xyXG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xyXG5cclxuICB2YXIgcGxheWVyO1xyXG5cclxuICBsZXQgeXRDcm9zcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2Y3Jvc3MxJyksXHJcbiAgICBiYWNrZ3JvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZmcmFtZTEnKSxcclxuICAgIHl0QmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3ZlcicpLFxyXG4gICAgbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fbGluaycpLFxyXG4gICAgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHJcbiAgbWFyay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBiYWNrZ3JvLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgeXRCYWNrLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgcGxheWVyID0gbmV3IFlULlBsYXllcigncGxheWVyJywge1xyXG4gICAgICBoZWlnaHQ6ICcxMDgwJyxcclxuICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgdmlkZW9JZDogbWFyay5kYXRhc2V0LnZpZGVvLC8v0LjQtyDQsNGC0YDQuNCx0YPRgtCwIGRhdGEtdmlkZW8g0LrQvdC+0L/QutC4XHJcbiAgICAgIHBsYXllclZhcnM6IHsgJ2F1dG9wbGF5JzogMSwgJ2NvbnRyb2xzJzogMSB9LFxyXG4gICAgICBldmVudHM6IHtcclxuICAgICAgICAnb25SZWFkeSc6IG9uUGxheWVyUmVhZHksXHJcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uUGxheWVyUmVhZHkoZXZlbnQpIHtcclxuICAgICAgZXZlbnQudGFyZ2V0LnNldFZvbHVtZSgzMCk7XHJcbiAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcclxuICAgICAgZXZlbnQudGFyZ2V0LnNldFBsYXliYWNrUXVhbGl0eSgnaGlnaHJlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uUGxheWVyU3RhdGVDaGFuZ2UoZXZlbnQpIHtcclxuICAgICAgaWYgKGV2ZW50LmRhdGEgPT0gWVQuUGxheWVyU3RhdGUuQlVGRkVSSU5HKSB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LnNldFBsYXliYWNrUXVhbGl0eSgnaGlnaHJlcycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgbGV0IHl0YmdBcnIgPSBbeXRCYWNrLCB5dENyb3NzXTtcclxuICB5dGJnQXJyLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgYmFja2dyby5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgeXRCYWNrLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcbiAgICAgIHBsYXllci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSlcclxuXHJcblxyXG4vLy0gc3dpcGVyXHJcblxyXG5jb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyJywge1xyXG4gIC8vINCd0LDRgdGC0YDQvtC50LrQuCBTd2lwZXJcclxuICBsb29wOiB0cnVlLCAvLyDQkdC10YHQutC+0L3QtdGH0L3QsNGPINC/0YDQvtC60YDRg9GC0LrQsFxyXG4gIHBhZ2luYXRpb246IHtcclxuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgIGNsaWNrYWJsZTogdHJ1ZSwgLy8g0JTQtdC70LDQtdGCINC/0LDQs9C40L3QsNGG0LjRjiDQutC70LjQutCw0LHQtdC70YzQvdC+0LlcclxuICB9LFxyXG4gIG5hdmlnYXRpb246IHtcclxuICAgIG5leHRFbDogJy5zbGlkZXJfX2J0bi1uZXh0JyxcclxuICAgIHByZXZFbDogJy5zbGlkZXJfX2J0bi1wcmV2JyxcclxuICB9LFxyXG59KTtcclxuXHJcblxyXG5cclxuLy/Qn9C70LDQstC90LDRjyDQv9GA0L7QutGA0YPRgtC60LAg0LTQviDRgdGB0YvQu9C+0LpcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gVGVzdERyaXZlRm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3Rkcml2ZScpLnNjcm9sbEludG9WaWV3KHtcclxuICAgIGJsb2NrOiBcInN0YXJ0XCIsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWNpc2lvbnNGbigpIHtcclxuICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVjaXNpb25zJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxlYXJuaW5nRm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXJuaW5nJykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRydXN0Rm4oKSB7XHJcbiAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0Jykuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHF1ZXN0aW9uc0ZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbnMnKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gbW9yZUZuKCkge1xyXG4gIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWRvd24nKS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgfSlcclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8g0LHRg9GA0LPQtdGALdC80LXQvdGOXHJcblxyXG5sZXQgYnVyZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLFxyXG4gIGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlci1idG4nKSxcclxuICBidXJnZXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Nyb3NzJyksXHJcbiAgaGVhZGVyQ292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19jb3ZlcicpLCAvL9C30LDRgtC10LzQvdC10L3QuNC1INC90LAg0YTQvtC90LVcclxuICBidXJnZXJMaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJfbGlua3MnKSxcclxuICB1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fZm9ybVwiKSxcclxuICBidXJnZXJHZXRpbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZm9ybS1idG4nKTtcclxuXHJcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblxyXG4gIGlmIChidXJnZXJNZW51LmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyX19idXJnZXItLW91dCcpKSB7XHJcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1vdXQnKTtcclxuICB9O1xyXG4gIGJ1cmdlck1lbnUuY2xhc3NMaXN0LmFkZCgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG5cclxuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5vbkZvcm1DbGljayk7XHJcblxyXG4gIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcclxufSk7XHJcblxyXG5cclxuXHJcbi8vINCb0L7Qs9C40LrQsCDQv9C+0YHQu9C1INC+0YLQutGA0YvRgtC40Y8g0LHRg9GA0LPQtdGAIC0g0LzQtdC90Y4sINC10YHQu9C4INGF0L7RgtGP0YIg0LfQsNC60YDRi9GC0Ywg0LXQs9C+XHJcblxyXG5sZXQgY2xvc2VCdXJnZXIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbiAgaGVhZGVyQ292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcbiAgLy8gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgbGV0IG1CdXJnZXIgPSBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlck1lbnUpO1xyXG4gIGxldCBmb3JtQnRuQ2xpY2tlZCA9IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoYnVyZ2VyR2V0aW5mbyk7XHJcbiAgbGV0IG5vRmllbGQgPSBmYWxzZTtcclxuICBsZXQgRmllbGRGb3JtID0gZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyh1cEZvcm0pO1xyXG4gIGxldCBub0ZpZWxkRm9ybSA9IGZhbHNlO1xyXG5cclxuICAvLyBjb25zdCB3aXRoaW5Cb3VuZGFyaWVzID0gZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhkaXYpO1xyXG5cclxuICBpZiAoZm9ybUJ0bkNsaWNrZWQpIHtcclxuXHJcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fYnVyZ2VyLS1pbicpO1xyXG4gICAgdXBGb3JtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICB9XHJcblxyXG4gIGlmICghbUJ1cmdlcikge1xyXG4gICAgbm9GaWVsZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBsZXQgcHVBcnIgPSBbXHJcblxyXG4gICAgZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhidXJnZXJDbG9zZUJ0biksXHJcbiAgICBlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGJ1cmdlckxpbmtzKVxyXG5cclxuICBdO1xyXG5cclxuICBwdUFyci5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgaWYgKGl0ZW0pIHsgY2xvc2VCdXJnZXIoKTsgfVxyXG4gIH0pXHJcblxyXG5cclxuICBpZiAobm9GaWVsZCA9PT0gdHJ1ZSkge1xyXG5cclxuICAgIGlmICghRmllbGRGb3JtKSB7XHJcbiAgICAgIG5vRmllbGRGb3JtID0gdHJ1ZTtcclxuICAgICAgdXBGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIGNsb3NlQnVyZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cclxuXHJcbiAgICAvLyB9KVxyXG5cclxuICAgIC8vIGlmIChub0ZpZWxkRm9ybSkge1xyXG5cclxuICAgIC8vICAgLy8g0JvQvtCz0LjQutCwINC/0L7RgdC70LUg0L7RgtC60YDRi9GC0LjRjyDRhNC+0YDQvNGLLCDQtdGB0LvQuCDRhdC+0YLRj9GCINC30LDQutGA0YvRgtGMINC10LPQviwg0L3QsNC20LDQsiDQvdCwINC/0YPRgdGC0L7QtSDQv9GA0L7RgdGC0YDQsNC90YHRgtCy0L4g0LLQvdC1INGE0L7RgNC80YtcclxuXHJcbiAgICAvLyAgIGNsb3NlQnVyZ2VyKCk7XHJcbiAgICAvLyB9XHJcbiAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gbGV0IHB1QXJyID0gW2J1cmdlckNsb3NlQnRuLCBidXJnZXJMaW5rc10uZm9yRWFjaChpdGVtID0+IHtcclxuLy8gICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuLy8gICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyX19idXJnZXItLWluJyk7XHJcbi8vICAgICBoZWFkZXJDb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4vLyAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4vLyAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuLy8gICB9KTtcclxuLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy8g0LLQtdGA0YXQvdGP0Y8g0YTQvtGA0LzQsFxyXG5cclxubGV0IEZvcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9fYnRuJyk7XHJcblxyXG5sZXQgZl9mb3JtU3VjZXNzID0gZmFsc2U7XHJcblxyXG5cclxuLy/QnNCw0YHQutCwINGE0L7RgNC80YtcclxuXHJcbmxldCB0ZWxTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpLFxyXG4gIG5hbWVTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJyksXHJcbiAgcXVlc3Rpb25TZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbicpLFxyXG4gIHRlbFNlbGVjdG9yRG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZS1mJyksXHJcbiAgbmFtZVNlbGVjdG9yRG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lLWYnKSxcclxuICBxdWVzdGlvblNlbGVjdG9yRG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbi1mJyk7XHJcblxyXG4vLyBJbnB1dG1hc2soeyBcIm1hc2tcIjogXCIrOVs5OV0oOVs5OTk5XSlbOVs5OTk5XV0tWzlbOTk5OV1dXCIsIFwiZ3JlZWR5XCI6IFwiZmFsc2VcIiB9KS5tYXNrKHRlbFNlbGVjdG9yKTtcclxuLy8gSW5wdXRtYXNrKHsgXCJtYXNrXCI6IFwiKzl7MSwyMH0vKC8pLy4tXCIsIFwiZ3JlZWR5XCI6IFwiZmFsc2VcIiB9KS5tYXNrKHRlbFNlbGVjdG9yRG93bik7XHJcblxyXG5jb25zdCB0ZWxWYWxpZCA9IG5ldyBJbnB1dG1hc2soe1xyXG4gIG1hc2s6IFwiKyp7MSwyMH1cIixcclxuICBncmVlZHk6IGZhbHNlLFxyXG4gIGRlZmluaXRpb25zOiB7XHJcbiAgICAnKic6IHtcclxuICAgICAgdmFsaWRhdG9yOiBcIlswLTlcXHUwMDI4XFx1MDAyOVxcdTAwMmRdXCIsLy/QstCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0L/Rg9GB0LrQsNC10YIg0YLQvtC70YzQutC+INGH0LjRgdC70LAg0L7RgiAwINC00L4gOSwg0LTQtdGE0LjRgSDQuCDRgdC60L7QsdC60LhcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudGVsVmFsaWQubWFzayh0ZWxTZWxlY3Rvcik7IC8v0L/RgNC40LzQtdC90Y/QtdC8INGB0YTQvtGA0LzQuNGA0L7QstCw0L3QvdGD0Y4g0LzQsNGB0LrRgyDQtNC70Y8g0YPQutCw0LfQsNC90L3QvtCz0L4g0LjQvdC/0YPRgtCwIGVtYWlsU2VsZWN0b3JcclxuXHJcblxyXG5cclxubGV0IHZhbGlkRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgbGV0IGxvbmcgPSB0ZWxTZWxlY3Rvci52YWx1ZSxcclxuICAgIGxvbmcyID0gbmFtZVNlbGVjdG9yLnZhbHVlLFxyXG4gICAgbG9uZzMgPSBxdWVzdGlvblNlbGVjdG9yLnZhbHVlO1xyXG4gIGxvbmc0ID0gdGVsU2VsZWN0b3JEb3duLnZhbHVlO1xyXG4gIGxvbmc1ID0gbmFtZVNlbGVjdG9yRG93bi52YWx1ZTtcclxuICBsb25nNiA9IHF1ZXN0aW9uU2VsZWN0b3JEb3duLnZhbHVlO1xyXG4gIGxldCBsb25nTnVtID0gbG9uZy5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7IC8v0YPQtNCw0LvRj9C10Lwg0LjQtyDRgdGC0YDQvtC60Lgg0LLRgdGRLCDQutGA0L7QvNC1INGG0LjRhNGAICAvLyDQvtGI0LjQsdC60LAg0LjQty3Qt9CwINGN0YLQvtCz0L5cclxuICBsZXQgbG9uZ051bTIgPSBsb25nNC5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7XHJcblxyXG4gIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FncmVlJykuY2hlY2tlZCkgfHwgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ3JlZS1mJykuY2hlY2tlZCkpIHtcclxuXHJcbiAgICBpZiAoKCgobG9uZ051bS5sZW5ndGggPiAyKSAmJiAobG9uZ051bS5sZW5ndGggPCA1MCkpICYmICgobG9uZzIubGVuZ3RoID4gMSkgJiYgKGxvbmcyLmxlbmd0aCA8IDM2KSkgJiYgKChsb25nMy5sZW5ndGggPiAyKSAmJiAobG9uZzMubGVuZ3RoIDwgMTUwMSkpKSB8fCAoKChsb25nTnVtMi5sZW5ndGggPiAyKSAmJiAobG9uZ051bTIubGVuZ3RoIDwgNTApKSAmJiAoKGxvbmc1Lmxlbmd0aCA+IDEpICYmIChsb25nNS5sZW5ndGggPCAzNikpICYmICgobG9uZzYubGVuZ3RoID4gMikgJiYgKGxvbmc2Lmxlbmd0aCA8IDE1MDEpKSkpIHtcclxuXHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykuc3R5bGUuY29sb3IgPSBcIiM0OWZmMGNcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmNvbG9yID0gXCIjNDlmZjBjXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCh0L/QsNGB0LjQsdC+LCDQvNGLINGB0LLRj9C20LXQvNGB0Y8g0YEg0JLQsNC80LghXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nLWYnKS50ZXh0Q29udGVudCA9IFwi0KHQv9Cw0YHQuNCx0L4sINC80Ysg0YHQstGP0LbQtdC80YHRjyDRgSDQktCw0LzQuCFcIjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRlbFRleHQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfVxyXG4gICAgICBzZXRUaW1lb3V0KGRlbFRleHQsIDIwMDApO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ29vZGJ5KCkge1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19mb3JtJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGhlYWRlckNvdmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG5cclxuICAgICAgfVxyXG4gICAgICBzZXRUaW1lb3V0KGdvb2RieSwgMjAwMCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn0LLQsNC70LjQtNCw0YbQuNGPINC/0YDQvtGI0LvQsCDRg9GB0L/QtdGI0L3QvicpO1xyXG5cclxuICAgICAgZl9mb3JtU3VjZXNzID0gdHJ1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ9GE0L7RgNC80LAg0L3QtSDQv9GA0L7RiNC70LAg0L/QviDQstCw0LvQuNC00LDRhtC40LgnKTtcclxuXHJcblxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YvQtSDQtNCw0L3QvdGL0LVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmctZicpLnRleHRDb250ZW50ID0gXCLQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90YvQtSDQtNCw0L3QvdGL0LVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcm5pbmcnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICBjb25zb2xlLmxvZygn0YTQvtGA0LzQsCDQvdC1INC/0YDQvtGI0LvQsCDQv9C+INCy0LDQu9C40LTQsNGG0LjQuCcpO1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINC00LDQudGC0LUg0YHQstC+0LUg0YHQvtCz0LvQsNGB0LjQtSDQvdCwINC+0LHRgNCw0LHQvtGC0LrRgyDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykudGV4dENvbnRlbnQgPSBcItCf0L7QttCw0LvRg9C50YHRgtCwINC00LDQudGC0LUg0YHQstC+0LUg0YHQvtCz0LvQsNGB0LjQtSDQvdCwINC+0LHRgNCw0LHQvtGC0LrRgyDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZycpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FybmluZy1mJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCgnLmZvcm1fX2J0bicpO1xyXG5cclxuICBpZiAodGFyZ2V0KSB7XHJcblxyXG4gICAgY2xvc2VCdXJnZXIoKTtcclxuXHJcbiAgICB2YWxpZEZvcm0oKTtcclxuICB9XHJcbn0pXHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyNmb3JtJyk7XHJcblxyXG5jb25zdCBzZW5kRm9ybVRvID0gKGRhdGEpID0+IHtcclxuICByZXR1cm4gZmV0Y2goJy4uL2ZpbmlzaC5waHAnLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnXHJcbiAgICB9XHJcbiAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSk7XHJcbn1cclxuXHJcbmxldCBzdWJtaXRGb3JtID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcblxyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcclxuXHJcblxyXG4gIGlmIChmX2Zvcm1TdWNlc3MgPT09IHRydWUpIHtcclxuXHJcbiAgICBjb25zdCBkYXRhRm9ybSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuICAgIGNvbnN0IHVzZXIgPSB7fTtcclxuXHJcbiAgICBkYXRhRm9ybS5mb3JFYWNoKCh2YWwsIGtleSkgPT4ge1xyXG4gICAgICB1c2VyW2tleV0gPSB2YWw7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZW5kRm9ybVRvKHVzZXIpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfQn9C40YHRjNC80L4g0L7RgtC/0YDQsNCy0LvQtdC90L4g0YPRgdC/0LXRiNC90L4nKTtcclxuXHJcbiAgICAgIGZvcm0ucmVzZXQoKTtcclxuXHJcbiAgICAgIGZfZm9ybVN1Y2VzcyA9IGZhbHNlO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=